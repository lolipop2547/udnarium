(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7036],{3734:(R,T,N)=>{N(9993),Opal.modules["bcdice/game_system/Fiasco"]=function(r){var g,M,S,n,i,_,m,I,f,F,z,q=[],t=r.nil,y=r.module,h=r.klass,d=r.const_set,l=r.truthy,c=r.def,v=r.send,E=r.rb_plus,p=r.to_a,B=r.rb_minus,K=r.hash2,k=r.eqeqeq,W=r.eqeq,A=r.rb_gt;return g=q,M=z=[y(q[0],"BCDice")].concat(g),f=[y(z[0],"GameSystem")].concat(M),F=r.$r(f),S=f,m=[_=h(f[0],F("Base"),"Fiasco")].concat(S),I=r.$r(m),_.$$prototype.randomizer=t,d(m[0],"ID","Fiasco"),d(m[0],"NAME","\u30d5\u30a3\u30a2\u30b9\u30b3"),d(m[0],"SORT_KEY","\u3075\u3044\u3042\u3059\u3053"),d(m[0],"HELP_MESSAGE","  \u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(FSx, WxBx)\n    \u76f8\u95a2\u56f3\u30fb\u8ee2\u843d\u8981\u7d20\u7528(FSx)\uff1a\u76f8\u95a2\u56f3\u3084\u8ee2\u843d\u8981\u7d20\u306e\u305f\u3081\u306bx\u500b\u30c0\u30a4\u30b9\u3092\u632f\u308a\u3001\u51fa\u76ee\u3054\u3068\u306b\u5206\u985e\u3059\u308b\n    \u9ed2\u767d\u5dee\u5206\u5224\u5b9a\u7528(WxBx)  \uff1a\u8ee2\u843d\u3001\u6b8b\u97ff\u306e\u305f\u3081\u306b\u767d\u30c0\u30a4\u30b9(W\u6307\u5b9a)\u3068\u9ed2\u30c0\u30a4\u30b9(B\u6307\u5b9a)\u3067\u5dee\u5206\u3092\u6c42\u3081\u308b\n      \u203b W\u3068B\u306f\u7247\u65b9\u6307\u5b9a(Bx, Wx)\u3001\u5165\u66ff\u6307\u5b9a(WxBx,BxWx)\u53ef\u80fd\n"),_.$register_prefix("FS","W","B"),c(_,"$eval_game_system_specific_command",function(o){var i,s,n=this;return l(i=l(s=n.$roll_fs(o))?s:n.$roll_white_black(o))?i:n.$roll_white_black_single(o)},1),_.$private(),c(_,"$roll_fs",function(o){var i=t,s=t,$=t,e=t;return i=/^FS(\d+)$/.$match(o),l(i)?(s=i["$[]"](1).$to_i(),$=this.randomizer.$roll_barabara(s,6),e=[t,0,0,0,0,0,0],v($,"each",[],function(a){var x;return null==a&&(a=t),x=[a,E(e["$[]"](a),1)],v(e,"[]=",p(x)),x[B(x.length,1)]},1),v(e,"map!",[],function u(a){return null==a&&(a=t),(null==u.$$s?this:u.$$s).$translate("Fiasco.fs.count",K(["count"],{count:a}))},{$$arity:1,$$s:this}),"1 => "+e["$[]"](1)+", 2 => "+e["$[]"](2)+", 3 => "+e["$[]"](3)+", 4 => "+e["$[]"](4)+", 5 => "+e["$[]"](5)+", 6 => "+e["$[]"](6)):t},1),c(_,"$roll_white_black_single",function(o){var i=t,s=t;return i=/^([WB])(\d+)$/.$match(o),l(i)?(s=I("Side").$new(this.$color(i["$[]"](1)),i["$[]"](2).$to_i())).$roll(this.randomizer)+" \uff1e "+s.$color()+s.$total():t},1),c(_,"$roll_white_black",function(o){var n=this,i=t,s=t,$=t,u=t;return i=/^([WB])(\d+)([WB])(\d+)$/.$match(o),l(i)?k(/^W\d+W\d+$/,s=o)?o+"\uff1a"+n.$translate("Fiasco.wb.duplicate_error.white"):k(/^B\d+B\d+$/,s)?o+"\uff1a"+n.$translate("Fiasco.wb.duplicate_error.black"):($=I("Side").$new(n.$color(i["$[]"](1)),i["$[]"](2).$to_i())).$roll(n.randomizer)+" "+(u=I("Side").$new(n.$color(i["$[]"](3)),i["$[]"](4).$to_i())).$roll(n.randomizer)+" \uff1e "+$.$diff(u):t},1),c(_,"$color",function(o){return W(o,"W")?this.$translate("Fiasco.white"):this.$translate("Fiasco.black")},1),(i=(n=h(m[0],null,"Side")).$$prototype).count=i.dice_list=i.color=i.total=t,c(n,"$initialize",function($,e){return this.color=$,this.count=e},2),c(n,"$roll",function($){var e=this;return e.dice_list=W(e.count,0)?[0]:$.$roll_barabara(e.count,6),e.total=e.dice_list.$sum(),""+e.color+e.total+"["+e.dice_list.$join(",")+"]"},1),c(n,"$diff",function($){var e=this;return W(e.total,$.$total())?"0":l(A(e.total,$.$total()))?""+e.color+B(e.total,$.$total()):""+$.$color()+B($.$total(),e.total)},1),n.$attr_reader("color","total")},Opal.queue(function(r){var B,A,M,w,f,g,D,k,t=[],h=r.module,d=r.klass,l=r.const_set,c=r.send2,v=r.find_super,E=r.def;return r.top.$require("bcdice/game_system/Fiasco"),B=t,A=k=[h(t[0],"BCDice")].concat(B),g=[h(k[0],"GameSystem")].concat(A),D=r.$r(g),M=g,l((f=[w=d(g[0],D("Fiasco"),"Fiasco_Korean")].concat(M))[0],"ID","Fiasco:Korean"),l(f[0],"NAME","\ud53c\uc544\uc2a4\ucf54"),l(f[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud53c\uc544\uc2a4\ucf54"),l(f[0],"HELP_MESSAGE","  \u30fb\ud310\uc815 \ucee4\ub9e8\ub4dc(FSx, WxBx)\n    \uad00\uacc4, \ube44\ud2c0\uae30 \uc694\uc18c\uc6a9(FSx)\uff1a\uad00\uacc4\ub098 \ube44\ud2c0\uae30 \uc694\uc18c\ub97c \uc704\ud574 x\uac1c\uc758 \ub2e4\uc774\uc2a4\ub97c \uad74\ub824 \ub098\uc628 \uac12\ubcc4\ub85c \ubd84\ub958\ud55c\ub2e4.\n    \ud751\ubc31\ucc28\uc774\ud310\uc815\uc6a9(WxBx)    \uff1a\ube44\ud2c0\uae30, \ud6c4\uae30\ub97c \uc704\ud574 \ud770 \ub2e4\uc774\uc2a4(W\uc9c0\uc815)\uacfc \uac80\uc740 \ub2e4\uc774\uc2a4(B\uc9c0\uc815)\uc73c\ub85c \ucc28\uc774\ub97c \uad6c\ud55c\ub2e4.\n      \u203b W\uc640B\ub294 \ud55c \ucabd\ub9cc \uc9c0\uc815(Bx, Wx), \uc55e\ub4a4 \ubc14\uafd4 \uc9c0\uc815(WxBx,BxWx)\ub3c4 \uac00\ub2a5\n"),w.$register_prefix_from_super_class(),E(w,"$initialize",function F(H){var S=this;return delete F.$$p,c(S,v(S,"initialize",F,!1,!0),"initialize",[H],null),S.locale="ko_kr"},1)})}}]);
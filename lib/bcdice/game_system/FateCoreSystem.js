(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[5899],{5925:(J,Q,E)=>{E(9993),Opal.queue(function(r){var T,L,Y,s,a,i,w,p,I,k,F=[],t=r.nil,R=r.$$$,q=r.module,G=r.klass,l=r.const_set,c=r.def,z=r.hash2,o=r.truthy,S=r.rb_plus,y=r.send,A=r.to_a,g=r.rb_minus,u=r.eqeqeq,M=r.eqeq,x=r.rb_ge;return T=F,L=k=[q(F[0],"BCDice")].concat(T),p=[q(k[0],"GameSystem")].concat(L),I=r.$r(p),Y=p,a=[s=G(p[0],I("Base"),"FateCoreSystem")].concat(Y),i=r.$r(a),(w=s.$$prototype).round_type=w.randomizer=t,l(a[0],"ID","FateCoreSystem"),l(a[0],"NAME","Fate Core System"),l(a[0],"SORT_KEY","\u3075\u3048\u3044\u3068\u3053\u3042\u3057\u3059\u3066\u3080"),l(a[0],"HELP_MESSAGE","\u25a0 \u30d5\u30a1\u30c3\u30b8\u30c0\u30a4\u30b9\u306b\u3088\u308b\u5224\u5b9a (xDF+y>=t)\n  \u30d5\u30a1\u30c3\u30b8\u30c0\u30a4\u30b9\u3092x\u500b\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u7d50\u679c\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n  x: \u30c0\u30a4\u30b9\u6570\n  y: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n  t: \u76ee\u6a19\u5024\u5024\uff08\u7701\u7565\u53ef\uff09\n  \u4f8b\uff094DF, 4DF>=3, 4DF+1>=3\n"),s.$register_prefix("\\d+DF"),c(s,"$eval_game_system_specific_command",function($){return this.$roll_df($)},1),s.$private(),c(s,"$roll_df",function($){var n=this,e=t,v=t,h=t,D=t,d=t,m=t;return e=R(i("Command"),"Parser").$new("DF",z(["round_type"],{round_type:n.round_type})).$enable_prefix_number().$restrict_cmp_op_to(">=",t).$parse($),o(e)?(v=n.$roll_fate_dice(e.$prefix_number()),h=S(v.$sum(),e.$modify_number()),D=y(v,"map",[],function(b){return null==b&&(b=t),o(b["$zero?"]())?"[ ]":o(b["$positive?"]())?"[+]":"[-]"},1),d=n.$outcome(h,e.$target_number()),m=[["("+e+")",""+D.$join()+i("Format").$modifier(e.$modify_number()),n.$result_ladder(h),d.$text()].$compact().$join(" \uff1e ")],y(d,"text=",A(m)),g(m.length,1),d):t},1),c(s,"$roll_fate_dice",function($){return y(this.randomizer.$roll_barabara($,3),"map",[],function(e){return null==e&&(e=t),g(e,2)},1)},1),c(s,"$result_ladder",function($){var e;return(u(8,e=$.$clamp(-2,8))?"Legendary":u(7,e)?"Epic":u(6,e)?"Fantastic":u(5,e)?"Superb":u(4,e)?"Great":u(3,e)?"Good":u(2,e)?"Fair":u(1,e)?"Average":u(0,e)?"Mediocre":u(-1,e)?"Poor":"Terrible")+"("+this.$format("%+d",$)+")"},1),c(s,"$outcome",function($,n){return o(n["$nil?"]())?i("Result").$new():M($,n)?i("Result").$success("Tie"):o(x($,S(n,3)))?i("Result").$critical("Succeed with Style"):o(x($,n))?i("Result").$success("Succeed"):i("Result").$failure("Fail")},2)})}}]);
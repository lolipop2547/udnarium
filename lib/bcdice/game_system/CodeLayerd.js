(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[9606],{6106:(ee,ne,R)=>{R(9993),Opal.queue(function(t){var P,J,X,g,b,M,S,U,G,p=[],n=t.nil,D=t.module,j=t.klass,k=t.const_set,F=t.send2,H=t.find_super,E=t.def,s=t.truthy,c=t.rb_plus,y=t.rb_le,A=t.rb_gt,u=t.send,_=t.to_a,o=t.rb_minus,B=t.eqeq,I=t.neqeq,K=t.rb_ge;return P=p,J=G=[D(p[0],"BCDice")].concat(P),S=[D(G[0],"GameSystem")].concat(J),U=t.$r(S),X=S,b=[g=j(S[0],U("Base"),"CodeLayerd")].concat(X),M=t.$r(b),g.$$prototype.randomizer=n,k(b[0],"ID","CodeLayerd"),k(b[0],"NAME","\u30b3\u30fc\u30c9\uff1a\u30ec\u30a4\u30e4\u30fc\u30c9"),k(b[0],"SORT_KEY","\u3053\u304a\u3068\u308c\u3044\u3084\u3042\u3068"),k(b[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff08nCL@m[c]+x \u307e\u305f\u306f nCL+x@m[c]\uff09 \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u5224\u5b9a\u3042\u308a\n  (\u30c0\u30a4\u30b9\u6570)CL+(\u4fee\u6b63\u5024)@(\u5224\u5b9a\u5024)[(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024)]+(\u4fee\u6b63\u50242)\n\n  @m,[c],+x\u306f\u7701\u7565\u53ef\u80fd\u3002(@6[1]\u3068\u3057\u3066\u51e6\u7406)\n  n\u500b\u306eD10\u3067m\u3092\u5224\u5b9a\u5024\u3001c\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u3057\u305f\u884c\u70ba\u5224\u5b9a\u3092\u884c\u3046\u3002\n  n\u304c0\u4ee5\u4e0b\u306e\u3068\u304d\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3057\u306a\u30441CL\u5224\u5b9a\u3092\u884c\u3046\u3002(1CL[0]\u3068\u540c\u4e00)\n  \u4f8b\uff09\n  7CL>=5 \uff1a\u30b5\u30a4\u30b3\u30ed7\u500b\u3067\u5224\u5b9a\u50246\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u76ee\u6a19\u50245\u306b\u5bfe\u3057\u3066\u5224\u5b9a\n  4CL@7  \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u5224\u5b9a\u50247\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u9054\u6210\u5024\u3092\u51fa\u3059\n  4CL+2@7 \u307e\u305f\u306f 4CL@7+2  \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u5224\u5b9a\u50247\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u9054\u6210\u5024\u3092\u51fa\u3057\u3001\u4fee\u6b63\u50242\u3092\u8db3\u3059\u3002\n  4CL[2] \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u50242\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3046\u3002\n  0CL : 1CL[0]\u3068\u540c\u3058\u5224\u5b9a\n\n  \u30c7\u30d5\u30a9\u30eb\u30c8\u30c0\u30a4\u30b9\uff1a10\u9762\n"),g.$register_prefix("[+-]?\\d*CL"),E(g,"$initialize",function v(d){var i=this;return delete v.$$p,F(i,H(i,"initialize",v,!1,!0),"initialize",[d],null),i.sides_implicit_d=10},1),E(g,"$eval_game_system_specific_command",function(d){var i=n,m=n,l=n,L=n,q=n,r=n,a=n,h=n;return this.$debug("eval_game_system_specific_command command",d),i=/([+-]?\d+)?CL([+-]\d+)?(@(\d))?(\[(\d+)\])?([+-]\d+)?(>=(\d+))?/i.$match(d),s(i)?(m=(s(l=i["$[]"](1))?l:1).$to_i(),L=i["$[]"](2).$to_i(),q=(s(l=i["$[]"](4))?l:6).$to_i(),r=(s(l=i["$[]"](6))?l:1).$to_i(),a=i["$[]"](7).$to_i(),s(i["$[]"](9))&&(h=i["$[]"](9).$to_i()),this.$check_roll(d,m,q,r,h,c(L,a))):n},1),E(g,"$check_roll",function(d,f,i,m,l,L){var h,x,w,z,r=n,a=n,e=n,$=n;return s(y(f,0))&&(m=0,f=1),r=M("Result").$new(),s(A(i,10))&&(i=10),a=this.randomizer.$roll_barabara(f,10).$sort(),h=u(a,"count",[],function(C){return null==C&&(C=n),y(C,i)},1),x=u(a,"count",[],function(C){return null==C&&(C=n),y(C,m)},1),e=[A(x,0)],u(r,"critical=",_(e)),o(e.length,1),w=c(c(h,x),L),$=d+" \uff1e ("+f+"d10"+(z=M("Format").$modifier(L))+") \uff1e ["+a.$join(",")+"]"+z+" \uff1e ",B(i,6)||($=c($,"\u5224\u5b9a\u5024["+i+"] ")),B(m,1)||($=c($,"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024["+m+"] ")),$=c($,"\u9054\u6210\u5024["+h+"]"),s(y(h,0))?(u(r,"fumble=",_(e=[!0])),o(e.length,1),u(r,"failure=",_(e=[!0])),o(e.length,1),u(r,"text=",_(e=[$+" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb\uff01"])),o(e.length,1),r):(s(r["$critical?"]())&&($=c($,"+\u30af\u30ea\u30c6\u30a3\u30ab\u30eb["+x+"]")),$=c($,z),(s(r["$critical?"]())||I(L,0))&&($=c($,"=["+w+"]")),s(l["$nil?"]())?(u(r,"text=",_(e=[$+" \uff1e "+w])),o(e.length,1)):s(K(w,l))?(u(r,"text=",_(e=[$+" \uff1e \u6210\u529f"])),o(e.length,1),u(r,"success=",_(e=[!0])),o(e.length,1)):(u(r,"text=",_(e=[$+" \uff1e \u5931\u6557"])),o(e.length,1),u(r,"failure=",_(e=[!0])),o(e.length,1)),r)},6)})}}]);
(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6968],{5757:(W,X,B)=>{B(9993),Opal.queue(function(r){var M,F,Q,o,a,s,A,N,G,S=[],e=r.nil,p=r.$$$,K=r.module,I=r.klass,u=r.const_set,n=r.truthy,R=r.def,C=r.rb_plus,w=r.rb_ge,c=r.send,x=r.to_a,D=r.rb_minus,T=r.hash2,k=r.range;return M=S,F=G=[K(S[0],"BCDice")].concat(M),A=[K(G[0],"GameSystem")].concat(F),N=r.$r(A),Q=A,a=[o=I(A[0],N("Base"),"Aoharubaan")].concat(Q),s=r.$r(a),o.$$prototype.randomizer=e,u(a[0],"ID","Aoharubaan"),u(a[0],"NAME","\u3042\u304a\u306f\u308b\u3070\u30fc\u3093\u3063"),u(a[0],"SORT_KEY","\u3042\u304a\u306f\u308b\u306f\u3042\u3093\u3064"),u(a[0],"HELP_MESSAGE","\u30ab\u30ec\u30ab\u30ce\u53cd\u5fdc\u8868\uff08 KR, KReaction \uff09\n"),u(a[0],"JUDGE_ROLL_REG",/^(1d6?|d6)(\+\d+)?(>=|=>)(\d+)$/i.$freeze()),o.$register_prefix("(1d6?|d6)(\\+\\d+)?(>=|=>)(\\d+)"),R(o,"$eval_game_system_specific_command",function($){var t,_=e;return $=n(t=s("ALIAS")["$[]"]($))?t:$,n(_=s("JUDGE_ROLL_REG").$match($))?this.$roll_judge(_["$[]"](2),_["$[]"](4)):this.$roll_tables($,s("TABLES"))},1),o.$private(),R(o,"$roll_judge",function($,f){var b,z,E,g,L,y,_=e,d=e,l=e,h=e,m=e;return _=n($)?s("Arithmetic").$eval($,p(s("RoundType"),"FLOOR")):e,b=f.$to_i(),z=this.$make_command_text(_,b),E=this.randomizer.$roll_once(6),d=C(E,_.$to_i()),g=w(d,b),L=n(l=g)?d["$=="](b):l,y=n(l=g)?w(d,7):l,(h=[])["$<<"](n(g)?"\u6210\u529f":"\u5931\u6557"),n(L)&&h["$<<"]("\u30d4\u30bf\u30ea\u8cde"),n(y)&&h["$<<"]("\u9650\u754c\u7a81\u7834"),(m=[])["$<<"](z),n(_)&&m["$<<"](E+"+"+_),m["$<<"](d),m["$<<"](h.$join(" \uff06 ")),c(s("Result").$new(m.$join(" \uff1e ")),"tap",[],function(v){var i=e;return null==v&&(v=e),c(v,"condition=",x(i=[g])),D(i.length,1),i=[n(l=L)?l:y],c(v,"critical=",x(i)),i[D(i.length,1)]},1)},2),R(o,"$make_command_text",function($,f){var t=e;return t="1D6",n($)&&(t=t+"+"+$),"("+(t=t+">="+f)+")"},2),u(a[0],"ALIAS",c(c(T(["KR"],{KR:"KReaction"}),"transform_keys",[],"upcase".$to_proc()),"transform_values",[],"upcase".$to_proc()).$freeze()),u(a[0],"TABLES",c(T(["KReaction"],{KReaction:p(s("DiceTable"),"RangeTable").$new("\u30ab\u30ec\u30ab\u30ce\u53cd\u5fdc\u8868","1D6",[[k(1,2,!1),"\u4f55\u3068\u306a\u304f\u7d20\u3063\u6c17\u306a\u3044\u6c17\u304c\u3059\u308b\u3002"],[k(3,4,!1),"\u3044\u3064\u3082\u3068\u5909\u308f\u3089\u306a\u3044\u5b89\u5fc3\u611f\u3002"],[k(5,6,!1),"\u4f55\u6545\u3060\u304b\u3059\u3054\u304f\u30c7\u30ec\u3066\u304d\u305f\uff01\u3000\u5b09\u3057\u304f\u3066\u3008\u30c6\u30f3\u30b7\u30e7\u30f3\u3009\uff11\u56de\u5fa9\u3002"]])}),"transform_keys",[],"upcase".$to_proc()).$freeze()),o.$register_prefix(s("ALIAS").$keys(),s("TABLES").$keys())})}}]);
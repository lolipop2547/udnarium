(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3005],{7810:(Z,O,K)=>{K(9993),Opal.modules["bcdice/normalize"]=function(r){var d,f,T,p=[],g=r.nil,e=r.module,l=r.eqeqeq,R=r.def,B=r.eqeq;return d=p,T=[e(p[0],"BCDice")].concat(d),(f=e(T[0],"Normalize")).$module_function(),R(f,"$comparison_operator",function(m){var o;return l(/<=|=</,o=m)?"<=":l(/>=|=>/,o)?">=":l(/<>|!=|=!/,o)?"!=":l(/</,o)?"<":l(/>/,o)?">":l(/=/,o)?"==":g},1),R(f,"$target_number",function(m){return B(m,"?")?m:m.$to_i()},1)},Opal.modules["bcdice/format"]=function(r){var T,m,o,S,F,f,p=[],g=r.nil,e=r.module,l=r.eqeqeq,R=r.def,B=r.truthy,n=r.eqeq,d=r.rb_gt;return T=p,m=f=[e(p[0],"BCDice")].concat(T),S=[o=e(f[0],"Format")].concat(m),F=r.$r(S),o.$module_function(),R(o,"$comparison_operator",function(b){var C;return l("==",C=b)?"=":l("!=",C)?"<>":l(F("Symbol"),C)?b.$to_s():g},1),R(o,"$modifier",function(b){return B(b["$nil?"]())?g:n(b,0)?"":B(d(b,0))?"+"+b:b.$to_s()},1)},Opal.queue(function(r){var C,Y,W,x,w,_,M,Q,H,p=r.top,g=[],e=r.nil,l=r.module,R=r.klass,B=r.const_set,n=r.truthy,d=r.send,v=r.def,T=r.to_ary,k=r.neqeq,f=r.rb_plus,E=r.rb_lt,m=r.rb_minus,o=r.rb_le,S=r.rb_ge,F=r.rb_divide,G=r.eqeq;return p.$require("bcdice/normalize"),p.$require("bcdice/format"),C=g,Y=H=[l(g[0],"BCDice")].concat(C),M=[l(H[0],"GameSystem")].concat(Y),Q=r.$r(M),W=M,w=[x=R(M[0],Q("Base"),"DarkBlaze")].concat(W),_=r.$r(w),x.$$prototype.randomizer=e,B(w[0],"ID","DarkBlaze"),B(w[0],"NAME","\u30c0\u30fc\u30af\u30d6\u30ec\u30a4\u30ba"),B(w[0],"SORT_KEY","\u305f\u3042\u304f\u3075\u308c\u3044\u3059"),B(w[0],"HELP_MESSAGE",'\u30fb\u884c\u70ba\u5224\u5b9a\u3000(DBxy#n)\n\u3000\u884c\u70ba\u5224\u5b9a\u5c02\u7528\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u3000"DB(\u80fd\u529b)(\u6280\u80fd)#(\u4fee\u6b63)"\u3067\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002R\u30b3\u30de\u30f3\u30c9(3R6+n[x,y]>=m m\u306f\u96e3\u6613\u5ea6)\u306b\u8aad\u66ff\u3092\u3057\u307e\u3059\u3002\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u3082\u81ea\u52d5\u3067\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\n\u3000DB@x@y#m \u3068 DBx,y#m \u306b\u3082\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\u3000\u4f8b\uff09DB33\u3000\u3000\u3000DB32#-1\u3000\u3000\u3000DB@3@1#1\u3000\u3000\u3000DB3,2\u3000\u3000\u3000DB23#1>=4\u3000\u3000\u30003R6+1[3,3]>=4\n\n\u30fb\u6398\u308a\u51fa\u3057\u888b\u8868\u3000(BTx)\n\u3000"BT(\u30c0\u30a4\u30b9\u6570)"\u3067\u6398\u308a\u51fa\u3057\u888b\u8868\u3092\u81ea\u52d5\u3067\u632f\u308a\u3001\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09BT1\u3000\u3000\u3000BT2\u3000\u3000\u3000BT[1...3]\n'),x.$register_prefix("DB","BT","3R6"),v(x,"$replace_text",function(t){return n(t["$=~"](/DB/i))&&(t=d(t,"gsub",[/DB(\d),(\d)/],function(){return"DB"+_("Regexp").$last_match(1)+_("Regexp").$last_match(2)},0),t=d(t,"gsub",[/DB@(\d)@(\d)/],function(){return"DB"+_("Regexp").$last_match(1)+_("Regexp").$last_match(2)},0),t=d(t,"gsub",[/DB(\d)(\d)(#(\d[+\-\d]*))/],function(){return"3R6+"+_("Regexp").$last_match(4)+"["+_("Regexp").$last_match(1)+","+_("Regexp").$last_match(2)+"]"},0),t=d(t,"gsub",[/DB(\d)(\d)(#([+\-\d]*))/],function(){return"3R6"+_("Regexp").$last_match(4)+"["+_("Regexp").$last_match(1)+","+_("Regexp").$last_match(2)+"]"},0),t=d(t,"gsub",[/DB(\d)(\d)/],function(){return"3R6["+_("Regexp").$last_match(1)+","+_("Regexp").$last_match(2)+"]"},0)),t},1),v(x,"$check_roll",function(t){var u,$,i=e,c=e,a=e,q=e,s=e,y=e,I=e,N=e,D=e;return t=this.$replace_text(t),n(i=/(^|\s)S?(3[rR]6([+\-\d]+)?(\[(\d+),(\d+)\])(([>=]+)(\d+))?)(\s|$)/i.$match(t))?(t=i["$[]"](2),c=0,a=1,q=1,s="",y=0,n(i["$[]"](3))&&(c=_("ArithmeticEvaluator").$eval(i["$[]"](3))),n(i["$[]"](4))&&(a=i["$[]"](5).$to_i(),q=i["$[]"](6).$to_i()),n(i["$[]"](7))&&(I=_("Normalize").$comparison_operator(i["$[]"](8)),s=_("Format").$comparison_operator(I),y=i["$[]"](9).$to_i()),$=this.$get_dice(c,a,q),N=null==(u=T($))[0]?e:u[0],D="("+t+") \uff1e "+(null==u[1]?e:u[1]),k(s,"")&&(I=_("Normalize").$comparison_operator(s),D=f(D,n(N.$send(I,y))?" \uff1e \u6210\u529f":" \uff1e \u5931\u6557")),D):e},1),v(x,"$get_dice",function(t,u,$){var q,y,i=e,c=e,a=e,s=e,I=e;return i=0,c=0,a=0,q=f(3,t.$abs()),y=(s=this.randomizer.$roll_barabara(q,6).$sort()).$join(","),d(3,"times",[],function(D){var z=e;return null==D&&(D=e),z=s["$[]"](D),n(E(t,0))&&(z=s["$[]"](m(m(q,D),1))),n(o(z,u))&&(i=f(i,1)),n(o(z,$))&&(i=f(i,1)),n(o(z,2))&&(c=f(c,1)),n(S(z,5))?a=f(a,1):e},1),I="",n(S(c,3))&&(I=" \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb",i=f(6,$)),n(S(a,3))&&(I=" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb",i=0),[i,i+"["+y+"]"+I]},3),v(x,"$eval_game_system_specific_command",function(t){var u,h=e,i=e,c=e;return n(h=/^BT(\d)?$/i.$match(t))?(i=n(c=(u=h["$[]"](1))===e||null==u?e:d(u,"to_i",[]))?c:1,this.$get_horidasibukuro_table(i)):this.$check_roll(t)},1),v(x,"$get_horidasibukuro_table",function(t){var c,u=this,$=e,h=e,i=e,a=e,s=e;return $="1",h=["\u87f2\u7532","\u91d1\u5c5e","\u91d1\u8ca8","\u690d\u7269","\u7363\u76ae","\u7adc\u9c57","\u30ec\u30a2\u30e2\u30ce","\u30ec\u30a2\u30e2\u30ce"],i=["\u706b\u708e\u77f3","\u96f7\u6483\u77f3","\u6c37\u7d50\u77f3"],c=u.randomizer.$roll_sum(2,6),a=u.randomizer.$roll_sum(t,6),u.$debug("dice",t),u.$debug("num1",c),u.$debug("num2",a),n(o(c,4))?(a=u.randomizer.$roll_once(6),$="\u300a"+i["$[]"](m(F(a,2).$to_i(),1))+"\u300b\u3092"+t+"\u500b\u7372\u5f97"):G(c,7)?$="\u300a\u91d1\u8ca8\u300b\u3092"+a+"\u679a\u7372\u5f97":(s=h["$[]"](m(c,5)),$=n(o(a,3))?"\u300a"+s+" I\u300b\u30921\u500b\u7372\u5f97":n(o(a,5))?"\u300a"+s+" I\u300b\u30922\u500b\u7372\u5f97":n(o(a,7))?"\u300a"+s+" I\u300b\u30923\u500b\u7372\u5f97":n(o(a,9))?"\u300a"+s+" II\u300b\u30921\u500b\u7372\u5f97":n(o(a,11))?"\u300a"+s+" I\u300b\u30922\u500b\u300a"+s+" II\u300b\u30921\u500b\u7372\u5f97":n(o(a,13))?"\u300a"+s+" I\u300b\u30922\u500b\u300a"+s+" II\u300b\u30922\u500b\u7372\u5f97":n(o(a,15))?"\u300a"+s+" III\u300b\u30921\u500b\u7372\u5f97":n(o(a,17))?"\u300a"+s+" II\u300b\u30922\u500b\u300a"+s+" III\u300b\u30921\u500b\u7372\u5f97":"\u300a"+s+" II\u300b\u30922\u500b\u300a"+s+" III\u300b\u30922\u500b\u7372\u5f97"),k($,"1")&&($="\u6398\u308a\u51fa\u3057\u888b\u8868["+c+","+a+"] \uff1e "+$),$},1)})}}]);
(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3958],{5581:(U,W,P)=>{P(9993),Opal.queue(function(t){var F,H,Y,s,m,J,S,K,R,y=[],e=t.nil,x=t.module,w=t.klass,b=t.const_set,$=t.truthy,D=t.def,_=t.rb_plus,V=t.eqeq,p=t.send,E=t.rb_gt,G=t.rb_times,C=t.rb_ge,z=t.rb_lt;return F=y,H=R=[x(y[0],"BCDice")].concat(F),S=[x(R[0],"GameSystem")].concat(H),K=t.$r(S),Y=S,m=[s=w(S[0],K("Base"),"DarkSouls")].concat(Y),J=t.$r(m),s.$$prototype.randomizer=e,b(m[0],"ID","DarkSouls"),b(m[0],"NAME","\u30c0\u30fc\u30af\u30bd\u30a6\u30ebTRPG"),b(m[0],"SORT_KEY","\u305f\u3042\u304f\u305d\u3046\u308bTRPG"),b(m[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff1a[n]DS[a\xb1b][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\n\u30fb\u80fd\u52d5\u5224\u5b9a\uff1a[n]ADS[a\xb1b][@t]\u3000\u3000FP\u6d88\u8cbb\u3092\u5224\u5b9a\n\u3000n\uff1a\u30c0\u30a4\u30b9\u6570\u3002\u7701\u7565\u6642\u306f\u300c2\u300d\n\u3000a\xb1b\uff1a\u4fee\u6b63\u5024\u3002\u300c1+2-1\u300d\u306e\u3088\u3046\u306b\u3001\u8907\u6570\u5b9a\u53ef\n\u3000@t\uff1a\u76ee\u6a19\u5024\u3002\u7701\u7565\u6642\u306f\u9054\u6210\u5024\u3092\u3001\u6307\u5b9a\u6642\u306f\u5224\u5b9a\u306e\u6b63\u5426\u3092\u8868\u793a\n\u4f8b\uff09DS \u2192 2D6\u306e\u9054\u6210\u5024\u3092\u8868\u793a\n\u3000\u30001DS \u2192 1D6\u306e\u9054\u6210\u5024\u3092\u8868\u793a\n\u3000\u3000ADS+2-2 \u2192 2D6+2\u306e\u9054\u6210\u5024\u3092\u8868\u793a\uff08\u80fd\u52d5\u5224\u5b9a\uff09\n\u3000\u3000DS+2@10 \u2192 2D6+2\u3067\u76ee\u6a19\u502410\u306e\u5224\u5b9a\n"),s.$register_prefix("(\\d+)?(A)?DS([-+\\d]*)(@\\d+)?"),D(s,"$eval_game_system_specific_command",function(r){var u=e,o=e,c=e,a=e,f=e,l=e;return $(u=/(\d+)?(A)?DS([-+\d]*)(@(\d+))?$/i.$match(r.$upcase()))?(o=($(c=u["$[]"](1))?c:2).$to_i(),a=u["$[]"](2)["$nil?"]()["$!"](),f=this.$getValue(u["$[]"](3)),l=($(c=u["$[]"](5))?c:0).$to_i(),this.$checkRoll(o,a,f,l)):e},1),D(s,"$checkRoll",function(r,i,u,o){var f,d,h,v,a=e,l=e,q=e,T=e,g=e,n=e;return f=(a=this.randomizer.$roll_barabara(r,6)).$sum(),l=a.$join(","),d=_(f,u),h=this.$getValueText(u),v=V(o,0)?"":">="+o,$(i)&&(q=p(l.$split(/,/),"map",[],"to_i".$to_proc()),T=p(q,"count",[],function(A){return null==A&&(A=e),A["$=="](1)},1),$(E(T,0))&&(g="\uff08FP"+(g=G("\u25a0",T))+"\u6d88\u8cbb\uff09")),n=_(n="("+r+"D6"+h+v+")"," \uff1e "+f+"("+l+")"+h),n=_(n," \uff1e "+d+v),$(E(o,0))&&(n=$(C(d,o))?_(n," \uff1e \u3010\u6210\u529f\u3011"):_(n," \uff1e \u3010\u5931\u6557\u3011")),_(n,g.$to_s())},4),D(s,"$getValue",function(r){var i;return r=$(i=r)?i:"",J("ArithmeticEvaluator").$eval(r)},1),D(s,"$getValueText",function(r){return V(r,0)?"":$(z(r,0))?r.$to_s():"+"+r},1)})}}]);
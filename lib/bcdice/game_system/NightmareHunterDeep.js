(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[298],{1387:(te,ie,K)=>{K(9993),Opal.modules["bcdice/format"]=function(e){var c,a,l,s,B,y,L=[],d=e.nil,r=e.module,v=e.eqeqeq,b=e.def,k=e.truthy,m=e.eqeq,E=e.rb_gt;return c=L,a=y=[r(L[0],"BCDice")].concat(c),s=[l=r(y[0],"Format")].concat(a),B=e.$r(s),l.$module_function(),b(l,"$comparison_operator",function(u){var q;return v("==",q=u)?"=":v("!=",q)?"<>":v(B("Symbol"),q)?u.$to_s():d},1),b(l,"$modifier",function(u){return k(u["$nil?"]())?d:m(u,0)?"":k(E(u,0))?"+"+u:u.$to_s()},1)},Opal.queue(function(e){var Y,U,ee,o,x,z,R,X,A,d=[],r=e.nil,v=e.$$$,b=e.module,k=e.klass,m=e.const_set,E=e.send2,S=e.find_super,c=e.def,w=e.send,y=e.rb_minus,g=e.rb_times,a=e.rb_plus,l=e.hash2,s=e.truthy,B=e.to_ary,H=e.eqeq,u=e.neqeq,q=e.rb_ge,j=e.rb_divide,N=e.rb_gt;return e.top.$require("bcdice/format"),Y=d,U=A=[b(d[0],"BCDice")].concat(Y),R=[b(A[0],"GameSystem")].concat(U),X=e.$r(R),ee=R,x=[o=k(R[0],X("Base"),"NightmareHunterDeep")].concat(ee),z=e.$r(x),o.$$prototype.randomizer=r,m(x[0],"ID","NightmareHunterDeep"),m(x[0],"NAME","\u30ca\u30a4\u30c8\u30e1\u30a2\u30cf\u30f3\u30bf\u30fc=\u30c7\u30a3\u30fc\u30d7"),m(x[0],"SORT_KEY","\u306a\u3044\u3068\u3081\u3042\u306f\u3093\u305f\u3042\u3066\u3044\u3044\u3075"),m(x[0],"HELP_MESSAGE","\u5224\u5b9a\uff08xD6+y>=a, xD6+y, xD6)\n  \u51fa\u76ee6\u306e\u500b\u6570\u3092\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3001\u305d\u306e4\u500d\u3092\u5408\u8a08\u5024\u306b\u52a0\u7b97\u3057\u307e\u3059\u3002\n  \u307e\u305f\u3001\u5bbf\u547d\u3092\u7372\u5f97\u3057\u305f\u304b\u8868\u793a\u3057\u307e\u3059\u3002\n\n  Lv\u76ee\u6a19\u5024 (xD6+y>=LVn, xD6+y>=NLn)\n    \u30ec\u30d9\u30eb\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n    LVn -> n*5+1, NLn -> n*5+5 \u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n  \u76ee\u6a19\u5024'?' (xD6+y>=?)\n    \u76ee\u6a19\u5024\u3092 '?' \u306b\u3059\u308b\u3068\u4f55Lv\u6210\u529f\u304b\u3001\u4f55NL\u6210\u529f\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u203b\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\u306f xD6 \u304b\u3089\u59cb\u307e\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f xD6 \u304c\u8907\u6570\u3042\u308b\u3068\u53cd\u5fdc\u3057\u307e\u305b\u3093\u3002\n"),o.$register_prefix("\\d+D6"),c(o,"$initialize",function f(n){var $=this;return delete f.$$p,E($,S($,"initialize",f,!1,!0),"initialize",[n],null),$.sort_add_dice=!0},1),c(o,"$eval_game_system_specific_command",function(n){var t,$,i=this,_=r,F=r,p=r,C=r,D=r,G=r,P=r,V=r;return n=w(w(n,"sub",[/Lv(\d+)/i],function(){return y(g(z("Regexp").$last_match(1).$to_i(),5),1).$to_s()},0),"sub",[/NL(\d+)/i],function(){return a(g(z("Regexp").$last_match(1).$to_i(),5),5).$to_s()},0),_=v(z("Command"),"Parser").$new(/\d+D6/,l(["round_type"],{round_type:i.$round_type()})).$restrict_cmp_op_to(r,">=").$enable_question_target().$parse(n),s(_)?(F=_.$command().$to_i(),C=(p=i.randomizer.$roll_barabara(F,6).$sort()).$sum(),D=a(C,_.$modify_number()),$=i.$dice_revision(p),G=null==(t=B($))[0]?r:t[0],D=a(D,null==t[1]?r:t[1]),P=s(_["$question_target?"]())?"?":_.$target_number(),V=i.$result_text(D,_.$cmp_op(),P),["("+_+")",i.$interim_expr(_,C,p),i.$expr_with_revision(a(C,_.$modify_number()),G),D,V,i.$fate(p)].$compact().$join(" \uff1e ")):r},1),c(o,"$result_text",function(n,t,$){var i=r,h=r;return H(t,">=")?u($,"?")?s(q(n,$))?"\u6210\u529f":"\u5931\u6557":(i=j(a(n,1),5).$to_i(),h=j(y(n,5),5).$to_i(),s(N(i,0))?"Lv"+i+"/NL"+h+"\u6210\u529f":"\u5931\u6557"):r},3),c(o,"$fate",function(n){return s(N(n.$count(1),0))?"\u5bbf\u547d\u7372\u5f97":r},1),c(o,"$interim_expr",function(n,t,$){var i=r;return s(N($.$size(),1))||u(n.$modify_number(),0)?(i=z("Format").$modifier(n.$modify_number()),t+"["+$.$join(",")+"]"+i):r},3),c(o,"$expr_with_revision",function(n,t){return s(t)?""+n+t:r},2),c(o,"$dice_revision",function(n){var t;return t=n.$count(6),s(N(t,0))?["+"+t+"*4",g(t,4)]:[r,0]},1)})}}]);
(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7008],{9585:(O,ee,Q)=>{Q(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(t){var d,E,a,H,q,w,u,l,G=[],z=t.nil,n=t.$$$,y=t.module,T=t.hash2,b=t.truthy,P=t.def;return d=G,E=l=[y(G[0],"BCDice")].concat(d),u=[w=y(l[0],"ArithmeticEvaluator")].concat(E),H=[a=t.get_singleton_class(w)].concat(u),q=t.$r(H),P(a,"$eval",function(A,R){var v,S=z;if(null==R)R=T([],{});else if(!R.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(v=R.$$smap.round_type)&&(v=n(q("RoundType"),"FLOOR")),b(A)&&b(S=q("Arithmetic").$eval(A,v))?S:0},-2)},Opal.modules["bcdice/game_system/Cthulhu"]=function(t){var v,N,Z,r,i,h,s,B,D,K,Y,j,V,F,z=[],n=t.nil,y=t.module,T=t.klass,b=t.const_set,P=t.send2,L=t.find_super,d=t.def,p=t.eqeqeq,l=t.truthy,k=t.rb_le,E=t.rb_gt,w=t.rb_plus,u=t.send,a=t.to_a,$=t.rb_minus,H=t.rb_divide,q=t.rb_times,I=t.rb_lt,A=t.rb_ge;return t.top.$require("bcdice/arithmetic_evaluator"),v=z,N=F=[y(z[0],"BCDice")].concat(v),j=[y(F[0],"GameSystem")].concat(N),V=t.$r(j),Z=j,D=[B=T(j[0],V("Base"),"Cthulhu")].concat(Z),K=t.$r(D),(Y=B.$$prototype).randomizer=Y.locale=Y.special_percentage=Y.critical_percentage=Y.fumble_percentage=n,b(D[0],"ID","Cthulhu"),b(D[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u8a71TRPG"),b(D[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3057\u3093\u308fTRPG"),b(D[0],"HELP_MESSAGE","c=\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024 \uff0f f=\u30d5\u30a1\u30f3\u30d6\u30eb\u5024 \uff0f s=\u30b9\u30da\u30b7\u30e3\u30eb\n\n1d100<=n    c\u30fbf\u30fbs\u3059\u3079\u3066\u30aa\u30d5\uff08\u5358\u7d14\u306a\u6570\u5024\u6bd4\u8f03\u5224\u5b9a\u306e\u307f\u884c\u3044\u307e\u3059\uff09\n\n\u30fbcfs\u5224\u5b9a\u4ed8\u304d\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\n\nCC\t 1d100\u30ed\u30fc\u30eb\u3092\u884c\u3046 c=1\u3001f=100\nCCB  \u540c\u4e0a\u3001c=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u6280\u80fd\u502480\u3067\u884c\u70ba\u5224\u5b9a\u30021%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u6280\u80fd\u502455\u3067\u884c\u70ba\u5224\u5b9a\u30025%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\n\u30fb\u7d44\u307f\u5408\u308f\u305b\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u62b5\u6297\u8868\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u3002\u51fa\u76eex\u4ee5\u4e0a\u304c\u51fa\u305f\u4e0a\u3067\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u5171\u306b\u51fa\u529b\u3059\u308b\uff08\u30c6\u30ad\u30b9\u30c8\u300c\u30d5\u30a1\u30f3\u30d6\u30eb\uff06\u6545\u969c\u300d\uff09\n\u30d5\u30a1\u30f3\u30d6\u30eb\u3067\u306a\u3044\u5834\u5408\u3001\u6210\u529f\u30fb\u5931\u6557\u306b\u95a2\u308f\u3089\u305a\u30c6\u30ad\u30b9\u30c8\u300c\u6545\u969c\u300d\u306e\u307f\u3092\u51fa\u529b\u3059\u308b\uff08\u6210\u529f\u30fb\u5931\u6557\u3092\u51fa\u529b\u305b\u305a\u3001\u4e0a\u66f8\u304d\u3057\u305f\u3082\u306e\u3092\u51fa\u529b\u3059\u308b\u5f62\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),B.$register_prefix("CCB?","RESB?","CBRB?"),d(B,"$initialize",function x(f){var i=this;return delete x.$$p,P(i,L(i,"initialize",x,!1,!0),"initialize",[f],null),i.special_percentage=20,i.critical_percentage=1,i.fumble_percentage=1},1),d(B,"$eval_game_system_specific_command",function(f){var i,r=this;return p(/CCB/i,i=f)?(r.critical_percentage=5,r.fumble_percentage=5,r.$getCheckResult(f)):p(/CC/i,i)?(r.critical_percentage=1,r.fumble_percentage=1,r.$getCheckResult(f)):p(/RESB/i,i)?(r.critical_percentage=5,r.fumble_percentage=5,r.$getRegistResult(f)):p(/CBRB/i,i)?(r.critical_percentage=5,r.fumble_percentage=5,r.$getCombineRoll(f)):p(/RES/i,i)?(r.critical_percentage=1,r.fumble_percentage=1,r.$getRegistResult(f)):p(/CBR/i,i)?(r.critical_percentage=1,r.fumble_percentage=1,r.$getCombineRoll(f)):n},1),B.$private(),d(B,"$getCheckResult",function(f){var r=this,i=n,h=n,s=n,_=n,e=n,o=n;return i=/^CCB?(\d+)?(?:<=([+-\/*\d]+))?$/i.$match(f),l(i)?(h=i["$[]"](1).$to_i(),s=K("ArithmeticEvaluator").$eval(i["$[]"](2)),l(k(s,0))?(_=r.randomizer.$roll_once(100),K("Result").$new("(1D100) \uff1e "+_)):(e="(1D100<="+s+")",l(E(h,0))&&(e=w(e," "+r.$translate("Cthulhu.broken_number")+"["+h+"]")),_=r.randomizer.$roll_once(100),o=r.$compare(_,s,h),u(o.$to_result(),"tap",[],function(C){var c;return null==C&&(C=n),c=[e+" \uff1e "+_+" \uff1e "+o.$text()],u(C,"text=",a(c)),c[$(c.length,1)]},1))):n},1),r=D,h=[i=T(D[0],null,"CompareResult")].concat(r),s=t.$r(h),i.$include(s("Translate")),i.$attr_accessor("success","failure","critical","fumble","special","broken"),d(i,"$initialize",function(e){var o=this;return o.locale=e,o.success=!1,o.failure=!1,o.critical=!1,o.fumble=!1,o.special=!1,o.broke=!1},1),d(i,"$text",function(){var e=this;return l(e.$critical())&&l(e.$special())?e.$translate("Cthulhu.critical_special"):l(e.$critical())?e.$translate("Cthulhu.critical"):l(e.$special())?e.$translate("Cthulhu.special"):l(e.$success())?e.$translate("success"):l(e.$broken())&&l(e.$fumble())?e.$translate("Cthulhu.fumble")+"/"+e.$translate("Cthulhu.broken"):l(e.$broken())?e.$translate("Cthulhu.broken"):l(e.$fumble())?e.$translate("Cthulhu.fumble"):l(e.$failure())?e.$translate("failure"):n},0),d(i,"$to_result",function(){return u(s("Result").$new(),"tap",[],function o(m){var C=null==o.$$s?this:o.$$s,c=n;return null==m&&(m=n),c=[C.$success()],u(m,"success=",a(c)),$(c.length,1),c=[C.$failure()],u(m,"failure=",a(c)),$(c.length,1),c=[C.$critical()],u(m,"critical=",a(c)),$(c.length,1),c=[C.$fumble()],u(m,"fumble=",a(c)),c[$(c.length,1)]},{$$arity:1,$$s:this})},0),d(B,"$compare",function(f,r,i){var s,_,h=this,e=n;return null==i&&(i=0),s=K("CompareResult").$new(h.locale),_=H(q(r,h.special_percentage),100).$to_i().$clamp(1,100),l(k(f,r))&&l(I(f,100))?(u(s,"success=",a(e=[!0])),$(e.length,1),e=[k(f,_)],u(s,"special=",a(e)),$(e.length,1),e=[k(f,h.critical_percentage)],u(s,"critical=",a(e)),$(e.length,1)):(u(s,"failure=",a(e=[!0])),$(e.length,1),e=[A(f,$(101,h.fumble_percentage))],u(s,"fumble=",a(e)),$(e.length,1)),l(E(i,0))&&l(A(f,i))&&(u(s,"broken=",a(e=[!0])),$(e.length,1),u(s,"failure=",a(e=[!0])),$(e.length,1),u(s,"success=",a(e=[!1])),$(e.length,1),u(s,"special=",a(e=[!1])),$(e.length,1),u(s,"critical=",a(e=[!1])),$(e.length,1)),s},-3),d(B,"$getRegistResult",function(f){var r=this,i=n,h=n,s=n,_=n,e=n;return i=/^RESB?(-?\d+)$/i.$match(f),l(i)?(h=i["$[]"](1).$to_i(),s=w(q(h,5),50),l(I(s,5))?K("Result").$failure("(1d100<="+s+") \uff1e "+r.$translate("Cthulhu.automatic_failure")):l(E(s,95))?K("Result").$success("(1d100<="+s+") \uff1e "+r.$translate("Cthulhu.automatic_success")):(_=r.randomizer.$roll_once(100),e=r.$compare(_,s),u(e.$to_result(),"tap",[],function(m){var C;return null==m&&(m=n),C=["(1d100<="+s+") \uff1e "+_+" \uff1e "+e.$text()],u(m,"text=",a(C)),C[$(C.length,1)]},1))):n},1),d(B,"$getCombineRoll",function(f){var r=this,i=n,h=n,s=n,_=n,e=n,o=n,m=n;return i=/^CBR(B)?\((\d+),(\d+)\)$/i.$match(f),l(i)?(h=i["$[]"](2).$to_i(),s=i["$[]"](3).$to_i(),_=r.randomizer.$roll_once(100),e=r.$compare(_,h),o=r.$compare(_,s),m=l(e.$success())&&l(o.$success())?r.$translate("success"):l(e.$success())||l(o.$success())?r.$translate("Cthulhu.partial_success"):r.$translate("failure"),u(K("Result").$new(),"tap",[],function(c){var g=n,M=n;return null==c&&(c=n),g=["(1d100<="+h+","+s+") \uff1e "+_+"["+e.$text()+","+o.$text()+"] \uff1e "+m],u(c,"text=",a(g)),$(g.length,1),g=[l(M=e.$critical())?M:o.$critical()],u(c,"critical=",a(g)),$(g.length,1),g=[l(M=e.$fumble())?M:o.$fumble()],u(c,"fumble=",a(g)),$(g.length,1),g=[l(M=e.$success())?M:o.$success()],u(c,"condition=",a(g)),g[$(g.length,1)]},1)):n},1)},Opal.queue(function(t){var l,u,A,R,v,$,H,E,z=[],y=t.module,T=t.klass,b=t.const_set,P=t.send2,L=t.find_super,d=t.def;return t.top.$require("bcdice/game_system/Cthulhu"),l=z,u=E=[y(z[0],"BCDice")].concat(l),$=[y(E[0],"GameSystem")].concat(u),H=t.$r($),A=$,b((v=[R=T($[0],H("Cthulhu"),"Cthulhu_Korean")].concat(A))[0],"ID","Cthulhu:Korean"),b(v[0],"NAME","\ud06c\ud234\ub8e8"),b(v[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud06c\ud234\ub8e8"),b(v[0],"HELP_MESSAGE","c=\ud06c\ub9ac\ud2f0\uceec\uce58 \uff0f f=\ud38c\ube14\uce58 \uff0f s=\uc2a4\ud398\uc15c\n\n1d100<=n    c\u30fbf\u30fbs \ubaa8\ub450 \uc624\ud504\uff08\ub2e8\uc21c\ud558\uac8c \uc218\uce58\ub9cc\uc744 \ubf51\uc544\ub0bc \ub54c \uc0ac\uc6a9\uff09\n\n\u30fbcfs\uc774 \ubd99\ub294 \ud310\uc815\uc758 \ucee4\ub9e8\ub4dc\n\nCC\t 1d100 \ud310\uc815\uc744 \ud589\ud568 c=1\u3001f=100\nCCB  \uc704\uc640 \ub3d9\uc77c\u3001c=5\u3001f=96\n\n\uc608\uff1aCC<=80  \uff08\uae30\ub2a5\uce58 80\ub85c \ud589\ud718\ud310\uc815. 1%\ub8f0\uc73c\ub85c cf\uc801\uc6a9\uff09\n\uc608\uff1aCCB<=55 \uff08\uae30\ub2a5\uce58 55\ub85c \ud589\ud718\ud310\uc815. 5%\ub8f0\uc73c\ub85c cf\uc801\uc6a9\uff09\n\n\u30fb\uacbd\uc6b0\uc758 \uc218 \ud310\uc815\uc5d0 \ub300\ud574\uc11c\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\uc800\ud56d \ud310\uc815\uc5d0 \ub300\ud574\uc11c\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\uace0\uc7a5 \ub118\ubc84 \ud310\uc815\n\n\u30fbCC(x) c=1\u3001f=100\nx=\uace0\uc7a5 \ub118\ubc84. \uc8fc\uc0ac\uc704 \ub208x\uc774\uc0c1\uc774 \ub098\uc628 \ud6c4\uc5d0, \ud38c\ube14\uc774 \ub3d9\uc2dc\uc5d0 \ubc1c\uc0dd\ud588\uc744 \uacbd\uc6b0. \ubaa8\ub450 \ucd9c\ub825\ud55c\ub2e4. \uff08\ud14d\uc2a4\ud2b8 \u300c\ud38c\ube14\uff06\uace0\uc7a5\u300d\uff09\n\ud38c\ube14\uc774 \uc544\ub2cc \uacbd\uc6b0, \uc131\uacf5\u30fb\uc2e4\ud328\uc5d0 \uad00\ub828\ub418\uc9c0 \uc54a\uace0 \u300c\uace0\uc7a5\u300d\ub9cc\uc744 \ucd9c\ub825\ud55c\ub2e4. \uff08\uc131\uacf5\u30fb\uc2e4\ud328\ub97c \ucd9c\ub825\ud558\uc9c0 \uc54a\uace0 \ub367\uc4f0\uae30\ud55c \uac83\uc744 \ucd9c\ub825\ud558\ub294 \ud615\ud0dc\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\uc704\uc640 \ub3d9\uc77c\n"),R.$register_prefix_from_super_class(),d(R,"$initialize",function S(F){var N=this;return delete S.$$p,P(N,L(N,"initialize",S,!1,!0),"initialize",[F],null),N.locale="ko_kr"},1)})}}]);
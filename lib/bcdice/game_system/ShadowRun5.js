(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3665],{3265:(J,Q,F)=>{F(9993),Opal.modules["bcdice/game_system/ShadowRun4"]=function(e){var G,H,N,g,f,b,I,w,S=[],o=e.nil,t=e.module,x=e.klass,s=e.const_set,C=e.send2,a=e.find_super,y=e.def,D=e.rb_divide,m=e.rb_times,R=e.truthy,E=e.rb_ge,p=e.eqeq;return G=S,H=w=[t(S[0],"BCDice")].concat(G),b=[t(w[0],"GameSystem")].concat(H),I=e.$r(b),N=b,s((f=[g=x(b[0],I("Base"),"ShadowRun4")].concat(N))[0],"ID","ShadowRun4"),s(f[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3 4th Edition"),s(f[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u30934"),s(f[0],"HELP_MESSAGE","\u500b\u6570\u632f\u308a\u8db3\u3057\u30ed\u30fc\u30eb(xRn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3001\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u76ee\u6a19\u5024\u30925\u4ee5\u4e0a\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nB\u30b3\u30de\u30f3\u30c9\u3068R\u30b3\u30de\u30f3\u30c9\u6642\u306b\u3001\u30b0\u30ea\u30c3\u30c1\u306e\u8868\u793a\u3092\u884c\u3044\u307e\u3059\u3002\n"),y(g,"$initialize",function l(r){var n=this;return delete l.$$p,C(n,a(n,"initialize",l,!1,!0),"initialize",[r],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0,n.reroll_dice_reroll_threshold=6,n.default_cmp_op=">=",n.default_target_number=5},1),y(g,"$grich_text",function(r,$,n){var u;return u=D(m(1,$),2),this.$debug("dice_cnt_total_half",u),R(E(r,u))?p(n,0)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b0\u30ea\u30c3\u30c1":"\u30b0\u30ea\u30c3\u30c1":o},3)},Opal.queue(function(e){var L,I,l,r,$,n,h,N,k,o=[],t=e.nil,x=e.$$$,s=e.module,C=e.klass,a=e.const_set,y=e.send2,D=e.find_super,m=e.def,R=e.truthy,E=e.rb_gt,p=e.rb_minus,A=e.rb_plus,G=e.rb_divide,M=e.eqeq;return e.top.$require("bcdice/game_system/ShadowRun4"),L=o,I=k=[s(o[0],"BCDice")].concat(L),h=[s(k[0],"GameSystem")].concat(I),N=e.$r(h),l=h,$=[r=C(h[0],N("ShadowRun4"),"ShadowRun5")].concat(l),n=e.$r($),r.$$prototype.randomizer=t,a($[0],"ID","ShadowRun5"),a($[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3 5th Edition"),a($[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u30935"),a($[0],"HELP_MESSAGE","\u500b\u6570\u632f\u308a\u8db3\u3057\u30ed\u30fc\u30eb(xRn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3001\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u76ee\u6a19\u5024\u30925\u4ee5\u4e0a\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u307f\u3001\u30ea\u30df\u30c3\u30c8\u3092\u30bb\u30c3\u30c8\u3067\u304d\u307e\u3059\u3002\u30ea\u30df\u30c3\u30c8\u306e\u6307\u5b9a\u306f(xBn@l)\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002(\u7701\u7565\u53ef)\nB\u30b3\u30de\u30f3\u30c9\u3068R\u30b3\u30de\u30f3\u30c9\u6642\u306b\u3001\u30b0\u30ea\u30c3\u30c1\u306e\u8868\u793a\u3092\u884c\u3044\u307e\u3059\u3002\n"),r.$register_prefix("(\\d+)B6@(\\d+)"),m(r,"$initialize",function u(v){var i=this;return delete u.$$p,y(i,D(i,"initialize",u,!1,!0),"initialize",[v],null),i.sort_add_dice=!0,i.sort_barabara_dice=!0,i.reroll_dice_reroll_threshold=6,i.default_cmp_op=">=",i.default_target_number=5},1),m(r,"$eval_game_system_specific_command",function(v){var q,_,T,d=this,i=t,z=t,B=t,Y=t,j=t,c=t;return d.$debug("chatch limit prefix"),q=(i=/(\d+B6)@(\d+)/.$match(v))["$[]"](1),_=i["$[]"](2).$to_i(),B=z=x(x(n("BCDice"),"CommonCommand"),"BarabaraDice").$eval(q,d,d.randomizer).$text(),T=(i=/\u6210\u529f\u6570(\d+)/.$match(z))["$[]"](1).$to_i(),R(E(T,_))&&(Y=_,j=p(T,_),B=z.$gsub(/\u6210\u529f\u6570(\d+)/,"\u6210\u529f\u6570"+Y),B=A(B,"(\u30ea\u30df\u30c3\u30c8\u8d85\u904e"+j+")")),c=(c=(c=B).$gsub("B","B6")).$gsub("6>=5","[6]Limit["+_+"]>=5"),d.$debug(c),c},1),m(r,"$grich_text",function(v,d,i){var _;return _=G(d.$to_f(),2),this.$debug("dice_cnt_total_half",_),R(E(v,_))?M(i,0)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b0\u30ea\u30c3\u30c1":"\u30b0\u30ea\u30c3\u30c1":t},3)})}}]);
(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[1209],{6694:(de,me,fe)=>{fe(9993),Opal.modules["i18n/backend/fallbacks"]=function(r){var M,a,L,I,E,o,H=[],t=r.nil,y=r.$$$,e=r.module,b=r.class_variable_set,w=r.truthy,A=r.class_variable_get,s=r.def,z=r.send,Y=r.to_a,q=r.rb_minus,S=r.send2,F=r.find_super,j=r.hash2,B=r.find_block_super,U=r.neqeq;return M=H,o=[E=e(H[0],"I18n")].concat(M),b(o[0],"@@fallbacks",t),a=r.get_singleton_class(E),L=[a].concat(o),I=r.$r(L),s(a,"$fallbacks",function(){var m=t;return b(L[1],"@@fallbacks",w(null!=L[1].$$cvars["@@fallbacks"]?"class variable":t)&&w(m=A(L[1],"@@fallbacks",!1))?m:y(y(I("I18n"),"Locale"),"Fallbacks").$new()),w(m=I("Thread").$current()["$[]"]("i18n_fallbacks"))?m:A(L[1],"@@fallbacks",!1)},0),s(a,"$fallbacks=",function(d){var m;return b(L[1],"@@fallbacks",w(d["$is_a?"](I("Array")))?y(y(I("I18n"),"Locale"),"Fallbacks").$new(d):d),m=["i18n_fallbacks",A(L[1],"@@fallbacks",!1)],z(I("Thread").$current(),"[]=",Y(m)),m[q(m.length,1)]},1),function(a,x){var d,m,p,u,I=[e(a,"Backend")].concat(x);return d=I,p=[m=e(I[0],"Fallbacks")].concat(d),u=r.$r(p),s(m,"$translate",function l(_,i,c){try{var n=l.$$p||t,$=this,h=t,P=t;return delete l.$$p,null==c&&(c=u("EMPTY_HASH")),w(c.$fetch("fallback",!0))?w(c["$[]"]("fallback_in_progress"))?S($,F($,"translate",l,!1,!0),"translate",[_,i,c],n):(w(c["$[]"]("default"))&&(h=$["$extract_non_symbol_default!"](c)),P=c.$merge(j(["fallback_in_progress"],{fallback_in_progress:!0})),z(u("I18n").$fallbacks()["$[]"](_),"each",[],function g(C){var N=null==g.$$s?this:g.$$s;null==C&&(C=t);try{return z(N,"catch",["exception"],function W(){var f=null==W.$$s?this:W.$$s,X=t;if(X=S(f,B(f,"translate",W.$$def||g.$$def||l,!1,!1),"translate",[C,i,P],null),w(X["$nil?"]()))return t;U(_.$to_s(),C.$to_s())&&f.$on_fallback(_,C,i,c),r.ret(X)},{$$arity:0,$$s:N})}catch(W){if(!r.rescue(W,[y(u("I18n"),"InvalidLocale")]))throw W;try{return t}finally{r.pop_exception()}}},{$$arity:1,$$s:$}),w(c["$key?"]("default"))&&w(c["$[]"]("default")["$nil?"]())?t:w(h)?S($,F($,"translate",l,!1,!0),"translate",[_,t,c.$merge(j(["default"],{default:h}))],null):$.$throw("exception",y(u("I18n"),"MissingTranslation").$new(_,i,c))):S($,F($,"translate",l,!1,!0),"translate",[_,i,c],n)}catch(g){if(g===r.returner)return g.$v;throw g}},-3),s(m,"$extract_non_symbol_default!",function(_){var c,i=t,n=t;return i=[_["$[]"]("default")].$flatten(),c=z(i,"detect",[],function(h){return null==h&&(h=t),h["$is_a?"](u("Symbol"))["$!"]()},1),w(c)&&(n=["default",i["$[]"](0,i.$index(c))],z(_,"[]=",Y(n)),q(n.length,1)),c},1),s(m,"$exists?",function l(_,i,c){try{var n=l.$$p||t,$=this;return delete l.$$p,null==c&&(c=u("EMPTY_HASH")),w(c.$fetch("fallback",!0))?(z(u("I18n").$fallbacks()["$[]"](_),"each",[],function h(P){var g=null==h.$$s?this:h.$$s;null==P&&(P=t);try{if(!w(S(g,B(g,"exists?",h.$$def||l,!1,!1),"exists?",[P,i],null)))return t;r.ret(!0)}catch(C){if(!r.rescue(C,[y(u("I18n"),"InvalidLocale")]))throw C;try{return t}finally{r.pop_exception()}}},{$$arity:1,$$s:$}),!1):S($,F($,"exists?",l,!1,!0),"exists?",[_,i,c],n)}catch(h){if(h===r.returner)return h.$v;throw h}},-3),m.$private(),s(m,"$on_fallback",function(_,i,c,n){return t},4)}(o[0],o)},Opal.modules["bcdice/randomizer"]=function(r){var E,v,d,m,p,u,a,x,H=[],t=r.nil,y=r.$$$,b=r.klass,w=r.const_set,A=r.def,s=r.truthy,z=r.rb_gt,Y=r.rb_plus,q=r.rb_le,S=r.send,F=r.rb_minus,j=r.eqeq,B=r.rb_times,U=r.eqeqeq,K=r.rb_ge;return E=H,a=[(0,r.module)(H[0],"BCDice")].concat(E),x=r.$r(a),v=a,m=[d=b(a[0],null,"Randomizer")].concat(v),p=r.$r(m),(u=d.$$prototype).rand_results=u.detailed_rand_results=t,w(m[0],"UPPER_LIMIT_DICE_TIMES",200),w(m[0],"UPPER_LIMIT_DICE_SIDES",1e3),w(m[0],"UPPER_LIMIT_RANDS",1e4),A(d,"$initialize",function(){return this.rand_results=[],this.detailed_rand_results=[]},0),d.$attr_reader("rand_results"),d.$attr_reader("detailed_rand_results"),w(m[0],"DetailedRandResult",p("Struct").$new("kind","sides","value")),A(d,"$roll_barabara",function(_,i){var c=this;return s(z(Y(c.rand_results.$size(),_),p("UPPER_LIMIT_RANDS")))&&c.$raise(p("TooManyRandsError")),s(q(_,0))||s(z(_,p("UPPER_LIMIT_DICE_TIMES")))?[]:S(p("Array"),"new",[_],function n(){return(null==n.$$s?this:n.$$s).$roll_once(i)},{$$arity:0,$$s:c})},2),A(d,"$roll_sum",function(_,i){return this.$roll_barabara(_,i).$sum()},2),A(d,"$roll_once",function(_){var c=t;return s(q(_,0))||s(z(_,p("UPPER_LIMIT_DICE_SIDES")))?0:(c=this.$rand_inner(_),this.$push_to_detail("normal",_,c),c)},1),A(d,"$roll_index",function(_){return F(this.$roll_once(_),1)},1),A(d,"$roll_tens_d10",function(){var c,i=t;return i=this.$rand_inner(10),j(i,10)&&(i=0),c=B(i,10),this.$push_to_detail("tens_d10",10,c),c},0),A(d,"$roll_d9",function(){var i;return i=F(this.$rand_inner(10),1),this.$push_to_detail("d9",10,i),i},0),A(d,"$roll_d66",function(_){var n,c=t;return c=S(p("Array"),"new",[2],function $(){return(null==$.$$s?this:$.$$s).$roll_once(6)},{$$arity:0,$$s:this}),U(y(p("D66SortType"),"ASC"),n=_)?c["$sort!"]():U(y(p("D66SortType"),"DESC"),n)&&c["$sort!"]()["$reverse!"](),Y(B(c["$[]"](0),10),c["$[]"](1))},1),d.$private(),A(d,"$rand_inner",function(_){var c,i=this;return s(K(i.rand_results.$size(),p("UPPER_LIMIT_RANDS")))&&i.$raise(p("TooManyRandsError")),c=i.$random(_),i.rand_results["$<<"]([c,_]),c},1),A(d,"$random",function(_){return Y(p("Kernel").$rand(_),1)},1),A(d,"$push_to_detail",function(_,i,c){var $;return $=p("DetailedRandResult").$new(_,i,c),this.detailed_rand_results.$push($)},3),b(a[0],x("StandardError"),"TooManyRandsError"),t},Opal.modules["bcdice/dice_table/roll_result"]=function(r){var s,S,K,M,E,o,a,j,Y,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,w=r.truthy;return s=H,S=Y=[y(H[0],"BCDice")].concat(s),K=j=[y(Y[0],"DiceTable")].concat(S),E=[M=e(j[0],null,"RollResult")].concat(K),o=r.$r(E),(a=M.$$prototype).table_name=a.value=a.body=t,b(M,"$initialize",function(L,I,v){var d=this;return d.table_name=L,d.value=I,d.body=v},3),M.$attr_reader("table_name"),M.$attr_reader("value"),M.$attr_reader("body"),b(M,"$to_s",function(){var L=this;return L.table_name+"("+L.value+") \uff1e "+L.body},0),b(M,"$last_body",function(){var L=this;return w(L.body["$is_a?"](o("RollResult")))?L.body.$last_body():L.body},0),b(M,"$empty?",function(){return!1},0)},Opal.modules["bcdice/dice_table/chain_table"]=function(r){var z,F,M,E,o,a,x,B,q,H=[],t=r.nil,y=r.module,e=r.klass,b=r.truthy,w=r.def,A=r.rb_minus;return z=H,F=q=[y(H[0],"BCDice")].concat(z),M=B=[y(q[0],"DiceTable")].concat(F),o=[E=e(B[0],null,"ChainTable")].concat(M),a=r.$r(o),(x=E.$$prototype).times=x.sides=x.items=x.name=t,w(E,"$initialize",function(I,v,d){var m=this,p=t;return m.name=I,m.items=d.$freeze(),p=/(\d+)D(\d+)/i.$match(v),b(p)||m.$raise(a("ArgumentError"),"Unexpected table type: "+v),m.times=p["$[]"](1).$to_i(),m.sides=p["$[]"](2).$to_i()},3),w(E,"$roll",function(I){var d,m,v=this,p=t;return d=I.$roll_sum(v.times,v.sides),m=A(d,v.times),p=v.items["$[]"](m),b(p["$respond_to?"]("roll"))&&(p=p.$roll(I)),a("RollResult").$new(v.name,d,p)},1)},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(r){var S,U,a,x,L,I,v,M,j,H=[],t=r.nil,y=r.module,e=r.klass,b=r.hash2,w=r.defs,A=r.def,s=r.rb_plus,z=r.rb_times,Y=r.rb_minus;return S=H,U=j=[y(H[0],"BCDice")].concat(S),a=M=[y(j[0],"DiceTable")].concat(U),L=[x=e(M[0],null,"D66GridTable")].concat(a),I=r.$r(L),(v=x.$$prototype).name=v.items=t,w(x,"$from_i18n",function(m,p){var l=t;return l=I("I18n").$t(m,b(["locale","raise"],{locale:p,raise:!0})),this.$new(l["$[]"]("name"),l["$[]"]("items"))},2),A(x,"$initialize",function(m,p){return this.name=m,this.items=p.$freeze()},2),A(x,"$roll",function(m){var u,l,_,i,c;return u=m.$roll_once(6),l=m.$roll_once(6),_=s(z(u,10),l),i=Y(u,1),c=Y(l,1),I("RollResult").$new(this.name,_,this.items["$[]"](i)["$[]"](c))},1)},Opal.modules["bcdice/dice_table/d66_half_grid_table"]=function(r){var Y,j,o,a,x,L,U,K,S,t=[],y=r.nil,e=r.module,b=r.klass,w=r.hash2,A=r.defs,s=r.def;return r.top.$require("bcdice/dice_table/d66_grid_table"),Y=t,j=S=[e(t[0],"BCDice")].concat(Y),U=[e(S[0],"DiceTable")].concat(j),K=r.$r(U),o=U,x=[a=b(U[0],K("D66GridTable"),"D66HalfGridTable")].concat(o),L=r.$r(x),A(a,"$from_i18n",function(v,d){var p=y;return p=L("I18n").$t(v,w(["locale","raise"],{locale:d,raise:!0})),this.$new(p["$[]"]("name"),p["$[]"]("items_1_2_3"),p["$[]"]("items_4_5_6"))},2),s(a,"$initialize",function(v,d,m){return this.name=v,this.items=[d,d,d,m,m,m].$freeze()},3)},Opal.modules["bcdice/dice_table/d66_one_third_table"]=function(r){var Y,j,o,a,x,L,U,K,S,t=[],y=r.nil,e=r.module,b=r.klass,w=r.hash2,A=r.defs,s=r.def;return r.top.$require("bcdice/dice_table/d66_grid_table"),Y=t,j=S=[e(t[0],"BCDice")].concat(Y),U=[e(S[0],"DiceTable")].concat(j),K=r.$r(U),o=U,x=[a=b(U[0],K("D66GridTable"),"D66OneThirdTable")].concat(o),L=r.$r(x),A(a,"$from_i18n",function(v,d){var p=y;return p=L("I18n").$t(v,w(["locale","raise"],{locale:d,raise:!0})),this.$new(p["$[]"]("name"),p["$[]"]("items_1_2"),p["$[]"]("items_3_4"),p["$[]"]("items_5_6"))},2),s(a,"$initialize",function(v,d,m,p){return this.name=v,this.items=[d,d,m,m,p,p].$freeze()},4)},Opal.modules["bcdice/dice_table/d66_table"]=function(r){var j,M,L,I,v,d,m,o,U,H=[],t=r.nil,y=r.$$$,e=r.module,b=r.klass,w=r.hash2,A=r.defs,s=r.def,z=r.eqeqeq,Y=r.rb_plus,q=r.rb_times,S=r.truthy;return j=H,M=U=[e(H[0],"BCDice")].concat(j),L=o=[e(U[0],"DiceTable")].concat(M),v=[I=b(o[0],null,"D66Table")].concat(L),d=r.$r(v),(m=I.$$prototype).sort_type=m.items=m.name=t,A(I,"$from_i18n",function(u,l){var c,i=t;return i=d("I18n").$t(u,w(["locale"],{locale:l})),c=d("D66SortType").$const_get(i["$[]"]("d66_sort_type")),this.$new(i["$[]"]("name"),c,i["$[]"]("items"))},2),s(I,"$initialize",function(u,l,_){var i=this;return i.name=u,i.sort_type=l,i.items=_.$freeze()},3),s(I,"$roll",function(u){var l=this,_=t,i=t,c=t,n=t;return _=u.$roll_barabara(2,6),z(y(d("D66SortType"),"ASC"),i=l.sort_type)?_["$sort!"]():z(y(d("D66SortType"),"DESC"),i)&&_["$sort!"]()["$reverse!"](),c=Y(q(_["$[]"](0),10),_["$[]"](1)),n=S(i=l.items["$[]"](c))?i:l.items["$[]"](c.$to_s()),S(n["$respond_to?"]("roll"))&&(n=n.$roll(u)),d("RollResult").$new(l.name,c,n)},1),s(I,"$choice",function(u){return d("RollResult").$new(this.name,u,this.items["$[]"](u))},1)},Opal.modules["bcdice/dice_table/d66_left_range_table"]=function(r){var K,a,L,I,E,t=[],y=r.nil,e=r.module,b=r.klass,w=r.hash2,A=r.send,s=r.to_ary,z=r.rb_plus,Y=r.rb_times,q=r.to_a,S=r.rb_minus,F=r.send2,j=r.find_super,B=r.def;return r.top.$require("bcdice/dice_table/d66_table"),K=t,a=E=[e(t[0],"BCDice")].concat(K),L=[e(E[0],"DiceTable")].concat(a),I=r.$r(L),B(b(L[0],I("D66Table"),"D66LeftRangeTable"),"$initialize",function p(u,l,_){var n;return delete p.$$p,n=w([],{}),A(_,"each",[],function(h){var P,N;return null==h&&(h=y),P=s(h),N=null==P[1]?y:P[1],A(null==P[0]?y:P[0],"each",[],function(f){return null==f&&(f=y),A(N,"each_with_index",[],function(D,ee){var ae,ne;return null==D&&(D=y),null==ee&&(ee=y),ae=z(Y(f,10),z(ee,1)),A(n,"[]=",q(ne=[ae,D])),ne[S(ne.length,1)]},2)},1)},1),F(this,j(this,"initialize",p,!1,!0),"initialize",[u,l,n],null)},3)},Opal.modules["bcdice/dice_table/d66_parity_table"]=function(r){var q,B,o,a,x,L,I,K,F,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,w=r.truthy,A=r.rb_minus,s=r.rb_plus,z=r.rb_times;return q=H,B=F=[y(H[0],"BCDice")].concat(q),o=K=[y(F[0],"DiceTable")].concat(B),x=[a=e(K[0],null,"D66ParityTable")].concat(o),L=r.$r(x),(I=a.$$prototype).odd=I.even=I.name=t,b(a,"$initialize",function(d,m,p){var u=this;return u.name=d,u.odd=m.$freeze(),u.even=p.$freeze()},3),b(a,"$roll",function(d){var u,_,i,m=this,p=t;return p=d.$roll_once(6),u=d.$roll_once(6),_=(w(p["$odd?"]())?m.odd:m.even)["$[]"](A(u,1)),i=s(z(p,10),u),L("RollResult").$new(m.name,i,_)},1)},Opal.modules["bcdice/dice_table/d66_range_table"]=function(r){var Y,j,E,o,a,x,L,U,S,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,w=r.rb_plus,A=r.rb_times,s=r.send;return Y=H,j=S=[y(H[0],"BCDice")].concat(Y),E=U=[y(S[0],"DiceTable")].concat(j),a=[o=e(U[0],null,"D66RangeTable")].concat(E),x=r.$r(a),(L=o.$$prototype).items=L.name=t,b(o,"$initialize",function(v,d){return this.name=v,this.items=d.$freeze()},2),b(o,"$roll",function(v){var m,p,u,l=t;return m=v.$roll_once(6),p=v.$roll_once(6),u=w(A(m,10),p),l=s(this.items,"find",[],function(i){return null==i&&(i=t),i["$[]"](0)["$include?"](u)},1),x("RollResult").$new(this.name,u,l["$[]"](1))},1)},Opal.modules["bcdice/dice_table/range_table"]=function(r){var B,E,I,v,d,m,p,a,K,H=[],t=r.nil,y=r.module,e=r.klass,b=r.const_set,w=r.send,A=r.truthy,s=r.def,z=r.to_a,Y=r.rb_minus,q=r.eqeqeq,S=r.rb_times,F=r.rb_plus;return B=H,E=K=[y(H[0],"BCDice")].concat(B),I=a=[y(K[0],"DiceTable")].concat(E),d=[v=e(a[0],null,"RangeTable")].concat(I),m=r.$r(d),(p=v.$$prototype).name=p.items=p.num_of_dice=p.num_of_sides=p.formatter=t,b(d[0],"RollResult",w(m("Struct"),"new",["sum","values","content","formatted"],function u(){return(null==u.$$s?this:u.$$s).$alias_method("to_s","formatted")},{$$arity:0,$$s:v})),b(d[0],"Item",m("Struct").$new("range","content")),b(d[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),b(d[0],"DEFAULT_FORMATTER",w(v,"lambda",[],function(l,_){return null==l&&(l=t),null==_&&(_=t),l.$name()+"("+_.$sum()+") \uff1e "+_.$content()},2)),v.$attr_reader("name"),v.$attr_reader("num_of_dice"),v.$attr_reader("num_of_sides"),s(v,"$initialize",function u(l,_,i){var $,c=u.$$p||t,n=this,h=t;return delete u.$$p,n.name=l.$freeze(),n.formatter=A($=c)?$:m("DEFAULT_FORMATTER"),h=m("DICE_ROLL_METHOD_RE").$match(_),A(h)||n.$raise(m("ArgumentError"),n.name+": invalid dice roll method: "+_),n.num_of_dice=h["$[]"](1).$to_i(),n.num_of_sides=h["$[]"](2).$to_i(),n.$store(i)},3),s(v,"$fetch",function(l){var i,_=this;return i=w(_.items,"find",[],function(n){return null==n&&(n=t),n.$range()["$include?"](l)},1),A(i)||_.$raise(m("RangeError"),_.name+": value is out of range: "+l),i},1),s(v,"$roll",function(l){var c,n,$,_=this,i=t;return c=(i=l.$roll_barabara(_.num_of_dice,_.num_of_sides)).$sum(),n=m("RollResult").$new(c,i,_.$fetch(c).$content()),$=[_.formatter["$[]"](_,n)],w(n,"formatted=",z($)),Y($.length,1),n},1),v.$private(),s(v,"$store",function(l){var i,c,_=this;return i=w(l,"map",[],function n($,h){return null==$&&($=t),null==h&&(h=t),[(null==n.$$s?this:n.$$s).$coerce_to_int_range($),h]},{$$arity:2,$$s:_}),c=w(i,"sort_by",[],function($,h){return null==$&&($=t),null==h&&(h=t),$.$min()},2),_.$assert_min_sum_is_covered(c),_.$assert_max_sum_is_covered(c),_.$assert_no_gap_or_overlap_in_ranges(c),_.items=w(c,"map",[],function($,h){return null==$&&($=t),null==h&&(h=t),m("Item").$new($,h.$freeze()).$freeze()},2).$freeze(),_},1),s(v,"$coerce_to_int_range",function(l){var i;return q(m("Integer"),i=l)?m("Range").$new(l,l):q(m("Range"),i)&&A(l.$begin()["$is_a?"](m("Integer")))&&A(l.$end()["$is_a?"](m("Integer")))?l:this.$raise(m("TypeError"),this.name+": "+l+" ("+l.$class()+") must be an Integer or a Range with Integers ")},1),s(v,"$assert_min_sum_is_covered",function(l){var i,_=this,c=t;return i=_.num_of_dice,c=l.$first()["$[]"](0),A(c["$include?"](i))||_.$raise(m("RangeError"),_.name+": min value ("+i+") is not covered: "+c),_},1),s(v,"$assert_max_sum_is_covered",function(l){var i,_=this,c=t;return i=S(_.num_of_dice,_.num_of_sides),c=l.$last()["$[]"](0),A(c["$include?"](i))||_.$raise(m("RangeError"),_.name+": max value ("+i+") is not covered: "+c),_},1),s(v,"$assert_no_gap_or_overlap_in_ranges",function(l){return w(l,"each_cons",[2],function i(c,n){var g,C,$=null==i.$$s?this:i.$$s,h=t,P=t;return null==$.name&&($.name=t),null==c&&(c=t),null==n&&(n=t),h=c["$[]"](0),P=n["$[]"](0),g=h.$max(),C=F(g,1),A(P["$include?"](g))&&$.$raise(m("RangeError"),$.name+": Range overlap: "+h+" and "+P),A(P["$include?"](C))?t:$.$raise(m("RangeError"),$.name+": Range gap: "+h+" and "+P)},{$$arity:2,$$s:this}),this},1)},Opal.modules["bcdice/dice_table/sai_fic_skill_table/category"]=function(r){var Y,j,E,I,v,d,m,a,U,S,H=[],t=r.nil,y=r.$$$,e=r.module,b=r.klass,w=r.send,A=r.def,s=r.rb_minus;return Y=H,j=S=[e(H[0],"BCDice")].concat(Y),E=U=[e(S[0],"DiceTable")].concat(j),I=a=[b(U[0],null,"SaiFicSkillTable")].concat(E),d=[v=b(a[0],null,"Category")].concat(I),m=r.$r(d),v.$$prototype.name=t,A(v,"$initialize",function(l,_,i,c){var n=this;return n.name=l,n.skills=w(_.$map(),"with_index",[2],function(h,P){return null==h&&(h=t),null==P&&(P=t),y(m("SaiFicSkillTable"),"Skill").$new(l,h,i,P,c)},2),n.dice=i},4),A(v,"$roll",function(l){return this.$skills()["$[]"](s(l.$roll_sum(2,6),2))},1),A(v,"$to_s",function(){return this.name},0),v.$attr_reader("name","dice","skills")},Opal.modules["bcdice/dice_table/sai_fic_skill_table/skill"]=function(r){var s,S,K,x,L,E,j,Y,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,w=r.hash2;return s=H,S=Y=[y(H[0],"BCDice")].concat(s),K=j=[y(Y[0],"DiceTable")].concat(S),E=[e(j[0],null,"SaiFicSkillTable")].concat(K),(L=(x=e(E[0],null,"Skill")).$$prototype).s_format=L.category_dice=L.row_dice=L.category_name=L.name=t,b(x,"$initialize",function(v,d,m,p,u){var l=this;return l.category_name=v,l.name=d,l.category_dice=m,l.row_dice=p,l.s_format=u},5),b(x,"$to_s",function(){var v=this;return v.$format(v.s_format,w(["category_dice","row_dice","category_name","skill_name"],{category_dice:v.category_dice,row_dice:v.row_dice,category_name:v.category_name,skill_name:v.name}))},0),x.$attr_reader("category_name","name","category_dice","row_dice")},Opal.modules["bcdice/dice_table/sai_fic_skill_table"]=function(r){var M,x,m,p,u,l,_,I,o,H=r.top,t=[],y=r.nil,e=r.$$$,b=r.module,w=r.klass,A=r.hash2,s=r.send,Y=r.defs,q=r.const_set,S=r.to_ary,F=r.def,j=r.truthy,B=r.rb_minus,U=r.rb_plus;return H.$require("bcdice/dice_table/sai_fic_skill_table/category"),H.$require("bcdice/dice_table/sai_fic_skill_table/skill"),M=t,x=o=[b(t[0],"BCDice")].concat(M),m=I=[b(o[0],"DiceTable")].concat(x),u=[p=w(I[0],null,"SaiFicSkillTable")].concat(m),l=r.$r(u),(_=p.$$prototype).rtt=_.rtt_format=_.rct=_.rct_format=_.rttn=_.rttn_format=_.categories=y,Y(p,"$from_i18n",function(c,n,$){var h,P,g,f,W=y;if(null==$)$=A([],{});else if(!$.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return null==(h=$.$$smap.rtt)&&(h=y),null==(P=$.$$smap.rct)&&(P=y),null==(g=$.$$smap.rttn)&&(g=y),f=(W=l("I18n").$t("RTT",A(["locale","raise","default"],{locale:n,raise:!1,default:A([],{})})).$merge(l("I18n").$t(c,A(["locale","raise"],{locale:n,raise:!0}))))["$[]"]("items"),W=s(W,"select",[],function(D,ee){return null==D&&(D=y),null==ee&&(ee=y),["rtt_format","rttn_format","rct_format","s_format"]["$include?"](D)},2),this.$new(f,r.to_hash(W).$merge(A(["rtt","rct","rttn"],{rtt:h,rct:P,rttn:g})))},-3),q(u[0],"DEFAULT_RTT","\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<category_dice>d,%<row_dice>d) \uff1e %<text>s"),q(u[0],"DEFAULT_RCT","\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868(%<category_dice>d) \uff1e %<category_name>s"),q(u[0],"DEFAULT_RTTN","%<category_name>s\u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<row_dice>d) \uff1e %<text>s"),q(u[0],"DEFAULT_S","\u300a%<skill_name>s\uff0f%<category_name>s%<row_dice>d\u300b"),F(p,"$initialize",function(c,n){var $,h,P,g,C,N,W,f=this;if(null==n)n=A([],{});else if(!n.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return null==($=n.$$smap.rtt)&&($=y),null==(h=n.$$smap.rct)&&(h=y),null==(P=n.$$smap.rttn)&&(P=y),null==(g=n.$$smap.rtt_format)&&(g=l("DEFAULT_RTT")),null==(C=n.$$smap.rct_format)&&(C=l("DEFAULT_RCT")),null==(N=n.$$smap.rttn_format)&&(N=l("DEFAULT_RTTN")),null==(W=n.$$smap.s_format)&&(W=l("DEFAULT_S")),f.categories=s(c.$map(),"with_index",[1],function(D,ee){var ae,ce,te;return null==D&&(D=y),null==ee&&(ee=y),ce=null==(ae=S(D))[0]?y:ae[0],te=null==ae[1]?y:ae[1],e(l("SaiFicSkillTable"),"Category").$new(ce,te,ee,W)},{$$arity:2,$$has_top_level_mlhs_arg:!0}),f.rtt=$,f.rct=h,f.rttn=P.$to_a(),f.rtt_format=g,f.rct_format=C,f.rttn_format=N},-2),q(u[0],"RTTN",["RTT1","RTT2","RTT3","RTT4","RTT5","RTT6"].$freeze()),p.$attr_reader("categories"),F(p,"$roll_command",function(c,n){var h,$=this,P=y,g=y;return j(["RTT",$.rtt]["$include?"](h=n))?$.$format_skill($.rtt_format,$.$roll_skill(c)):j(["RCT",$.rct]["$include?"](h))?(P=$.$roll_category(c),$.$format($.rct_format,A(["category_dice","category_name"],{category_dice:P.$dice(),category_name:P.$name()}))):j(g=l("RTTN").$index(h))||j(g=$.rttn.$index(h))?$.$format_skill($.rttn_format,$.categories["$[]"](g).$roll(c)):y},2),F(p,"$roll_category",function(c){return this.categories["$[]"](B(c.$roll_once(6),1))},1),F(p,"$roll_skill",function(c){return this.$roll_category(c).$roll(c)},1),F(p,"$prefixes",function(){var c=this;return U(["RTT[1-6]?","RCT",c.rtt,c.rct],c.rttn).$compact()},0),p.$private(),F(p,"$format_skill",function(c,n){return this.$format(c,A(["category_dice","row_dice","category_name","skill_name","text"],{category_dice:n.$category_dice(),row_dice:n.$row_dice(),category_name:n.$category_name(),skill_name:n.$name(),text:n.$to_s()}))},2)},Opal.modules["bcdice/dice_table/table"]=function(r){var q,B,o,a,x,L,I,K,F,H=[],t=r.nil,y=r.module,e=r.klass,b=r.hash2,w=r.defs,A=r.truthy,s=r.def,z=r.rb_minus;return q=H,B=F=[y(H[0],"BCDice")].concat(q),o=K=[y(F[0],"DiceTable")].concat(B),x=[a=e(K[0],null,"Table")].concat(o),L=r.$r(x),(I=a.$$prototype).times=I.sides=I.name=I.items=t,w(a,"$from_i18n",function(d,m){var u=t;return u=L("I18n").$t(d,b(["locale"],{locale:m})),this.$new(u["$[]"]("name"),u["$[]"]("type"),u["$[]"]("items"))},2),s(a,"$initialize",function(d,m,p){var u=this,l=t;return u.name=d,u.items=p.$freeze(),l=/(\d+)D(\d+)/i.$match(m),A(l)||u.$raise(L("ArgumentError"),"Unexpected table type: "+m),u.times=l["$[]"](1).$to_i(),u.sides=l["$[]"](2).$to_i()},3),s(a,"$roll",function(d){var p,m=this;return p=d.$roll_sum(m.times,m.sides),m.$choice(p)},1),s(a,"$choice",function(d){var p,m=this;return p=z(d,m.times),L("RollResult").$new(m.name,d,m.items["$[]"](p))},1)},Opal.modules["bcdice/dice_table"]=function(r){var H=r.top;return H.$require("bcdice/dice_table/roll_result"),H.$require("bcdice/dice_table/chain_table"),H.$require("bcdice/dice_table/d66_grid_table"),H.$require("bcdice/dice_table/d66_half_grid_table"),H.$require("bcdice/dice_table/d66_one_third_table"),H.$require("bcdice/dice_table/d66_left_range_table"),H.$require("bcdice/dice_table/d66_parity_table"),H.$require("bcdice/dice_table/d66_range_table"),H.$require("bcdice/dice_table/d66_table"),H.$require("bcdice/dice_table/range_table"),H.$require("bcdice/dice_table/sai_fic_skill_table"),H.$require("bcdice/dice_table/table")},Opal.modules["bcdice/enum"]=function(r){var w,Y,S,s,H=[],y=r.module,e=r.const_set;return w=H,Y=s=[y(H[0],"BCDice")].concat(w),S=[y(s[0],"D66SortType")].concat(Y),e(S[0],"NO_SORT","no_sort"),e(S[0],"ASC","asc"),e(S[0],"DESC","desc"),function(z,Y){var S=[y(z,"RoundType")].concat(Y);return e(S[0],"CEIL","ceil"),e(S[0],"FLOOR","floor"),e(S[0],"ROUND","round")}(s[0],s)},Opal.modules["bcdice/translate"]=function(r){var s,S,F,j,B,Y,H=[],t=r.nil,y=r.module,e=r.hash2,w=r.def;return s=H,S=Y=[y(H[0],"BCDice")].concat(s),j=[F=y(Y[0],"Translate")].concat(S),B=r.$r(j),w(F,"$translate",function(K,M){var E,o=this;if(null==o.locale&&(o.locale=t),null==M)M=e([],{});else if(!M.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return E=r.kwrestargs(M,{}),B("I18n").$translate(K,e(["locale","raise"],{locale:o.locale,raise:!0}).$merge(r.to_hash(E)))},-2)},Opal.modules["bcdice/result"]=function(r){var Y,B,E,U,M,S,H=[],t=r.nil,e=r.klass,b=r.send,w=r.to_a,A=r.rb_minus,s=r.def;return Y=H,B=S=[(0,r.module)(H[0],"BCDice")].concat(Y),[U=e(S[0],null,"Result")].concat(B),(M=U.$$prototype).secret=M.success=M.failure=M.critical=M.fumble=t,s(E=r.get_singleton_class(U),"$success",function(x){return b(this.$new(),"tap",[],function(v){var d=t;return null==v&&(v=t),b(v,"text=",w(d=[x])),A(d.length,1),b(v,"success=",w(d=[!0])),d[A(d.length,1)]},1)},1),s(E,"$failure",function(x){return b(this.$new(),"tap",[],function(v){var d=t;return null==v&&(v=t),b(v,"text=",w(d=[x])),A(d.length,1),b(v,"failure=",w(d=[!0])),d[A(d.length,1)]},1)},1),s(E,"$critical",function(x){return b(this.$new(),"tap",[],function(v){var d=t;return null==v&&(v=t),b(v,"text=",w(d=[x])),A(d.length,1),b(v,"critical=",w(d=[!0])),A(d.length,1),b(v,"success=",w(d=[!0])),d[A(d.length,1)]},1)},1),s(E,"$fumble",function(x){return b(this.$new(),"tap",[],function(v){var d=t;return null==v&&(v=t),b(v,"text=",w(d=[x])),A(d.length,1),b(v,"fumble=",w(d=[!0])),A(d.length,1),b(v,"failure=",w(d=[!0])),d[A(d.length,1)]},1)},1),s(E,"$nothing",function(){return"nothing"},0),s(U,"$initialize",function(o){var a=this;return null==o&&(o=t),a.text=o,a.rands=t,a.detailed_rands=t,a.secret=!1,a.success=!1,a.failure=!1,a.critical=!1,a.fumble=!1},-1),U.$attr_accessor("text","rands","detailed_rands"),U.$attr_writer("secret","success","failure","critical","fumble"),s(U,"$secret?",function(){return this.secret},0),s(U,"$success?",function(){return this.success},0),s(U,"$failure?",function(){return this.failure},0),s(U,"$critical?",function(){return this.critical},0),s(U,"$fumble?",function(){return this.fumble},0),s(U,"$condition=",function(o){return this.success=o,this.failure=o["$!"]()},1)},Opal.modules["racc/parser"]=function(r){var m,u,l,t=[],y=r.$r(t),e=r.nil,b=r.$$$,w=r.module,A=r.klass,s=r.truthy,z=r.const_set,Y=r.defs,q=r.gvars,S=r.rb_lt,F=r.send,j=r.to_a,B=r.rb_minus,U=r.def,K=r.to_ary,M=r.neqeq,E=r.rb_plus,o=r.eqeq,a=r.rb_ge,x=r.rb_gt,L=r.eqeqeq,I=r.rb_le,v=r.rb_times;return m=t,u=[w(t[0],"Racc")].concat(m),l=r.$r(u),A(u[0],l("StandardError"),"ParseError"),s(b("::","ParseError","skip_raise")?"constant":e)||z(t[0],"ParseError",b(y("Racc"),"ParseError")),function(d,m){var n,$,h,P,g,l=[w(d,"Racc")].concat(m),_=r.$r(l);return s(_("Racc_No_Extensions","skip_raise")?"constant":e)||z(l[0],"Racc_No_Extensions",!1),n=l,h=[$=A(l[0],null,"Parser")].concat(n),P=r.$r(h),(g=$.$$prototype).yydebug=g.racc_debug_out=g.racc_error_status=g.racc_t=g.racc_vstack=g.racc_val=g.racc_state=g.racc_tstack=e,z(h[0],"Racc_Runtime_Version","1.4.6"),z(h[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),z(h[0],"Racc_Runtime_Core_Version_R","1.4.6"),z(h[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),z(h[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),z(h[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),z(h[0],"Racc_Runtime_Core_Version",P("Racc_Runtime_Core_Version_R")),z(h[0],"Racc_Runtime_Core_Revision",P("Racc_Runtime_Core_Revision_R")),z(h[0],"Racc_Runtime_Type","ruby"),Y(P("Parser"),"$racc_runtime_type",function(){return P("Racc_Runtime_Type")},0),U($,"$_racc_setup",function(){var N,W,f=this,X=e,D=e,ee=e;return null==q.stderr&&(q.stderr=e),s(b(f.$class(),"Racc_debug_parser"))||(f.yydebug=!1),s(null!=(N=f.yydebug)&&N!==e?"instance-variable":e)||(f.yydebug=!1),s(f.yydebug)&&(s(null!=(W=f.racc_debug_out)&&W!==e?"instance-variable":e)||(f.racc_debug_out=q.stderr),f.racc_debug_out=s(X=f.racc_debug_out)?X:q.stderr),D=b(f.$class(),"Racc_arg"),s(S(D.$size(),14))&&(F(D,"[]=",j(ee=[13,!0])),B(ee.length,1)),D},0),U($,"$_racc_init_sysvars",function(){var N=this;return N.racc_state=[0],N.racc_tstack=[],N.racc_vstack=[],N.racc_t=e,N.racc_val=e,N.racc_read_next=!0,N.racc_user_yyerror=!1,N.racc_error_status=0},0),U($,"$do_parse",function(){return this.$__send__(P("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},0),U($,"$next_token",function(){return this.$raise(P("NotImplementedError"),this.$class()+"#next_token is not defined")},0),U($,"$_racc_do_parse_rb",function(N,W){var f,D=this,ee=e,ae=e,ne=e,ce=e,V=e,R=e,Q=e,k=e;return f=K(N),ee=null==f[0]?e:f[0],ae=null==f[1]?e:f[1],ne=null==f[2]?e:f[2],ce=null==f[3]?e:f[3],V=null==f[10]?e:f[10],D.$_racc_init_sysvars(),R=Q=k=e,F(D,"catch",["racc_end_parse"],function T(){var re,Z,G=null==T.$$s?this:T.$$s,se=e;for(null==G.racc_state&&(G.racc_state=e),null==G.racc_read_next&&(G.racc_read_next=e),null==G.racc_t&&(G.racc_t=e),null==G.yydebug&&(G.yydebug=e),null==G.racc_val&&(G.racc_val=e);s(!0);)for(s(k=ce["$[]"](G.racc_state["$[]"](-1)))?(s(G.racc_read_next)&&M(G.racc_t,0)&&(Z=G.$next_token(),re=K(Z),R=null==re[0]?e:re[0],G.racc_val=null==re[1]?e:re[1],G.racc_t=s(R)?s(se=V["$[]"](R))?se:1:0,s(G.yydebug)&&G.$racc_read_token(G.racc_t,R,G.racc_val),G.racc_read_next=!1),k=E(k,G.racc_t),s(a(k,0))&&s(Q=ee["$[]"](k))&&o(ae["$[]"](k),G.racc_state["$[]"](-1))||(Q=ne["$[]"](G.racc_state["$[]"](-1)))):Q=ne["$[]"](G.racc_state["$[]"](-1));s(Q=G.$_racc_evalact(Q,N)););},{$$arity:0,$$s:D})},2),U($,"$yyparse",function(N,W){return this.$__send__(P("Racc_YY_Parse_Method"),N,W,this.$_racc_setup(),!0)},2),U($,"$_racc_yyparse_rb",function(N,W,f,X){var D,ne=e,ce=e,te=e,V=e,Q=e,k=e,T=e;return D=K(f),ne=null==D[0]?e:D[0],ce=null==D[1]?e:D[1],te=null==D[2]?e:D[2],V=null==D[3]?e:D[3],Q=null==D[10]?e:D[10],this.$_racc_init_sysvars(),k=e,T=e,F(this,"catch",["racc_end_parse"],function O(){var G=null==O.$$s?this:O.$$s;for(null==G.racc_state&&(G.racc_state=e);!s(T=V["$[]"](G.racc_state["$[]"](-1)));)for(;s(k=G.$_racc_evalact(te["$[]"](G.racc_state["$[]"](-1)),f)););return F(N,"__send__",[W],function se($e,_e){var ie=null==se.$$s?this:se.$$s,J=e,oe=e;for(null==ie.racc_t&&(ie.racc_t=e),null==ie.racc_state&&(ie.racc_state=e),null==ie.racc_read_next&&(ie.racc_read_next=e),null==$e&&($e=e),null==_e&&(_e=e),ie.racc_t=s($e)?s(J=Q["$[]"]($e))?J:1:0,ie.racc_val=_e,ie.racc_read_next=!1,T=E(T,ie.racc_t),s(a(T,0))&&s(k=ne["$[]"](T))&&o(ce["$[]"](T),ie.racc_state["$[]"](-1))||(k=te["$[]"](ie.racc_state["$[]"](-1)));s(k=ie.$_racc_evalact(k,f)););for(;s(s(J=s(oe=(T=V["$[]"](ie.racc_state["$[]"](-1)))["$!"]())?oe:ie.racc_read_next["$!"]())?J:ie.racc_t["$=="](0));)for(s(T)&&s(T=E(T,ie.racc_t))&&s(a(T,0))&&s(k=ne["$[]"](T))&&o(ce["$[]"](T),ie.racc_state["$[]"](-1))||(k=te["$[]"](ie.racc_state["$[]"](-1)));s(k=ie.$_racc_evalact(k,f)););},{$$arity:2,$$s:G})},{$$arity:0,$$s:this})},4),U($,"$_racc_evalact",function(N,W){var f,te,D=this,ee=e,ae=e,ce=e,V=e,R=e,Q=e,k=e;if(ee=null==(f=K(W))[0]?e:f[0],ae=null==f[1]?e:f[1],ce=null==f[3]?e:f[3],te=null==f[11]?e:f[11],V=null==f[12]?e:f[12],s(x(N,0))&&s(S(N,te)))s(x(D.racc_error_status,0))&&(o(D.racc_t,1)||(D.racc_error_status=B(D.racc_error_status,1))),D.racc_vstack.$push(D.racc_val),D.racc_state.$push(N),D.racc_read_next=!0,s(D.yydebug)&&(D.racc_tstack.$push(D.racc_t),D.$racc_shift(D.racc_t,D.racc_tstack,D.racc_vstack));else if(s(S(N,0))&&s(x(N,V["$-@"]()))){if(R=F(D,"catch",["racc_jump"],function T(){var O=null==T.$$s?this:T.$$s;return null==O.racc_state&&(O.racc_state=e),O.racc_state.$push(O.$_racc_do_reduce(W,N)),!1},{$$arity:0,$$s:D}),s(R)){if(L(1,Q=R))return D.racc_user_yyerror=!0,V["$-@"]();if(L(2,Q))return te;D.$raise("[Racc Bug] unknown jump code")}}else if(o(N,te))s(D.yydebug)&&D.$racc_accept(),D.$throw("racc_end_parse",D.racc_vstack["$[]"](0));else{if(o(N,V["$-@"]())){for(L(0,Q=D.racc_error_status)?s(W["$[]"](21))||D.$on_error(D.racc_t,D.racc_val,D.racc_vstack):L(3,Q)&&(o(D.racc_t,0)&&D.$throw("racc_end_parse",e),D.racc_read_next=!0),D.racc_user_yyerror=!1,D.racc_error_status=3;s(!0)&&!(s(k=ce["$[]"](D.racc_state["$[]"](-1)))&&(k=E(k,1),s(a(k,0))&&s(N=ee["$[]"](k))&&o(ae["$[]"](k),D.racc_state["$[]"](-1))));)s(I(D.racc_state.$size(),1))&&D.$throw("racc_end_parse",e),D.racc_state.$pop(),D.racc_vstack.$pop(),s(D.yydebug)&&(D.racc_tstack.$pop(),D.$racc_e_pop(D.racc_state,D.racc_tstack,D.racc_vstack));return N}D.$raise("[Racc Bug] unknown action "+N.$inspect())}return s(D.yydebug)&&D.$racc_next_state(D.racc_state["$[]"](-1),D.racc_state),e},2),U($,"$_racc_do_reduce",function(N,W){var f,V,Q,G,se,$e,ie,D=this,ae=e,ne=e,ce=e,te=e,R=e,k=e,T=e,O=e,re=e,Z=e,_e=e,le=e,ue=e,J=e;return ae=null==(f=K(N))[4]?e:f[4],ne=null==f[5]?e:f[5],ce=null==f[6]?e:f[6],te=null==f[7]?e:f[7],V=null==f[8]?e:f[8],R=null==f[9]?e:f[9],Q=null==f[13]?e:f[13],k=D.racc_state,T=D.racc_vstack,O=D.racc_tstack,re=v(W,-3),Z=R["$[]"](re),G=R["$[]"](E(re,1)),se=R["$[]"](E(re,2)),$e=[],s(D.yydebug)&&(_e=O["$[]"](Z["$-@"](),Z)),le=T["$[]"](Z["$-@"](),Z),s(D.yydebug)&&(ue=[Z["$-@"](),Z,$e],F(O,"[]=",j(ue)),B(ue.length,1)),ue=[Z["$-@"](),Z,$e],F(T,"[]=",j(ue)),B(ue.length,1),ue=[Z["$-@"](),Z,$e],F(k,"[]=",j(ue)),B(ue.length,1),s(Q)?T.$push(D.$__send__(se,le,T,le["$[]"](0))):T.$push(D.$__send__(se,le,T)),O.$push(G),s(D.yydebug)&&D.$racc_reduce(_e,G,O,T),ie=B(G,V),s(re=te["$[]"](ie))&&(re=E(re,k["$[]"](-1)),s(a(re,0))&&s(J=ae["$[]"](re))&&o(ne["$[]"](re),ie))?J:ce["$[]"](ie)},2),U($,"$on_error",function(N,W,f){var D,X=this;return X.$raise(P("ParseError"),X.$sprintf("\nparse error on value %s (%s)",W.$inspect(),s(D=X.$token_to_str(N))?D:"?"))},3),U($,"$yyerror",function(){return this.$throw("racc_jump",1)},0),U($,"$yyaccept",function(){return this.$throw("racc_jump",2)},0),U($,"$yyerrok",function(){return this.racc_error_status=0},0),U($,"$racc_read_token",function(N,W,f){var X=this;return X.racc_debug_out.$print("read    "),X.racc_debug_out.$print(W.$inspect(),"(",X.$racc_token2str(N),") "),X.racc_debug_out.$puts(f.$inspect()),X.racc_debug_out.$puts()},3),U($,"$racc_shift",function(N,W,f){var X=this;return X.racc_debug_out.$puts("shift   "+X.$racc_token2str(N)),X.$racc_print_stacks(W,f),X.racc_debug_out.$puts()},3),U($,"$racc_reduce",function(N,W,f,X){var D=this,ee=e;return(ee=D.racc_debug_out).$print("reduce "),s(N["$empty?"]())?ee.$print(" <none>"):F(N,"each",[],function ae(ne){return null==ne&&(ne=e),ee.$print(" ",(null==ae.$$s?this:ae.$$s).$racc_token2str(ne))},{$$arity:1,$$s:D}),ee.$puts(" --\x3e "+D.$racc_token2str(W)),D.$racc_print_stacks(f,X),D.racc_debug_out.$puts()},4),U($,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},0),U($,"$racc_e_pop",function(N,W,f){var X=this;return X.racc_debug_out.$puts("error recovering mode: pop token"),X.$racc_print_states(N),X.$racc_print_stacks(W,f),X.racc_debug_out.$puts()},3),U($,"$racc_next_state",function(N,W){var f=this;return f.racc_debug_out.$puts("goto    "+N),f.$racc_print_states(W),f.racc_debug_out.$puts()},2),U($,"$racc_print_stacks",function(N,W){var X=e;return(X=this.racc_debug_out).$print("        ["),F(N,"each_index",[],function D(ee){return null==ee&&(ee=e),X.$print(" (",(null==D.$$s?this:D.$$s).$racc_token2str(N["$[]"](ee))," ",W["$[]"](ee).$inspect(),")")},{$$arity:1,$$s:this}),X.$puts(" ]")},2),U($,"$racc_print_states",function(N){var f=e;return(f=this.racc_debug_out).$print("        ["),F(N,"each",[],function(D){return null==D&&(D=e),f.$print(" ",D)},1),f.$puts(" ]")},1),U($,"$racc_token2str",function(N){var f;return s(f=b(this.$class(),"Racc_token_to_s_table")["$[]"](N))?f:this.$raise("[Racc Bug] can't convert token "+N+" to string")},1),U($,"$token_to_str",function(N){return b(this.$class(),"Racc_token_to_s_table")["$[]"](N)},1)}(t[0],t)},Opal.modules["bcdice/arithmetic/node"]=function(r){var B,E,L,u,l,v,d,a,K,H=[],t=r.nil,y=r.$$$,e=r.module,b=r.klass,w=r.def,A=r.send2,s=r.find_super,z=r.eqeq,Y=r.const_set,q=r.eqeqeq,S=r.rb_divide,F=r.alias;return B=H,E=K=[e(H[0],"BCDice")].concat(B),L=a=[e(K[0],"Arithmetic")].concat(E),v=[e(a[0],"Node")].concat(L),d=r.$r(v),(l=(u=b(v[0],null,"BinaryOp")).$$prototype).lhs=l.rhs=l.op=t,w(u,"$initialize",function(i,c,n){var $=this;return $.lhs=i,$.op=c,$.rhs=n},3),w(u,"$eval",function(i){var $,c=this,n=t;return n=c.lhs.$eval(i),$=c.rhs.$eval(i),n.$send(c.op,$)},1),w(u,"$output",function(){var i=this;return""+i.lhs.$output()+i.op+i.rhs.$output()},0),w(u,"$s_exp",function(){var i=this;return"("+i.$op_for_s_exp()+" "+i.lhs.$s_exp()+" "+i.rhs.$s_exp()+")"},0),w(u,"$op_for_s_exp",function(){return this.op},0),function(m,p,u){var l=b(m,p,"DivideBase"),_=[l].concat(u),i=r.$r(_),c=l.$$prototype;c.lhs=c.rhs=c.op=t,w(l,"$initialize",function n($,h){return delete n.$$p,A(this,s(this,"initialize",n,!1,!0),"initialize",[$,"/",h],null)},2),w(l,"$eval",function($){var P,g,h=this;return P=h.lhs.$eval($),g=h.rhs.$eval($),z(g,0)&&h.$raise(i("ZeroDivisionError")),h.$divide_and_round(P,g,$)},1),w(l,"$output",function n(){var $=n.$$p||t,h=this;return delete n.$$p,""+A(h,s(h,"output",n,!1,!0),"output",[],$)+h.$rounding_method()},0),l.$private(),w(l,"$rounding_method",function(){return y(this.$class(),"ROUNDING_METHOD")},0),w(l,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()},0),w(l,"$divide_and_round",function($,h,P){return this.$raise(i("NotImplementedError"))},3)}(v[0],d("BinaryOp"),v),function(m,p,u){var l=b(m,p,"DivideWithGameSystemDefault"),_=[l].concat(u),i=r.$r(_);Y(_[0],"ROUNDING_METHOD",""),l.$private(),w(l,"$divide_and_round",function(n,$,h){var P;return q(y(i("RoundType"),"CEIL"),P=h)?S(n.$to_f(),$).$ceil():q(y(i("RoundType"),"ROUND"),P)?S(n.$to_f(),$).$round():S(n,$).$floor()},3)}(v[0],d("DivideBase"),v),function(m,p,u){var l=b(m,p,"DivideWithCeil"),_=[l].concat(u);Y(_[0],"ROUNDING_METHOD","C"),l.$private(),w(l,"$divide_and_round",function(c,n,$){return S(c.$to_f(),n).$ceil()},3)}(v[0],d("DivideBase"),v),function(m,p,u){var l=b(m,p,"DivideWithRound"),_=[l].concat(u);Y(_[0],"ROUNDING_METHOD","R"),l.$private(),w(l,"$divide_and_round",function(c,n,$){return S(c.$to_f(),n).$round()},3)}(v[0],d("DivideBase"),v),function(m,p,u){var l=b(m,p,"DivideWithFloor"),_=[l].concat(u);Y(_[0],"ROUNDING_METHOD","F"),l.$private(),w(l,"$divide_and_round",function(c,n,$){return S(c,n).$to_i()},3)}(v[0],d("DivideBase"),v),function(m,p){var u=b(m,null,"Negative");u.$$prototype.body=t,w(u,"$initialize",function(i){return this.body=i},1),w(u,"$eval",function(i){return this.body.$eval(i)["$-@"]()},1),w(u,"$output",function(){return"-"+this.body.$output()},0),w(u,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"},0)}(v[0]),function(m,p){var u=b(m,null,"Parenthesis");u.$$prototype.expr=t,w(u,"$initialize",function(i){return this.expr=i},1),w(u,"$eval",function(i){return this.expr.$eval(i)},1),w(u,"$output",function(){return"("+this.expr.$output()+")"},0),w(u,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"},0)}(v[0]),function(m,p){var u=b(m,null,"Number");return u.$$prototype.value=t,w(u,"$initialize",function(i){return this.value=i},1),w(u,"$eval",function(i){return this.value},1),w(u,"$output",function(){return this.value.$to_s()},0),F(u,"s_exp","output")}(v[0])},Opal.modules.strscan=function(r){var j,B,U,K,M,H=[],t=r.nil,e=r.def,b=r.truthy,w=r.eqeqeq,A=r.Opal,s=r.send,z=r.to_a,Y=r.rb_minus,q=r.alias;return j=H,U=[B=(0,r.klass)(H[0],null,"StringScanner")].concat(j),K=r.$r(U),(M=B.$$prototype).pos=M.string=M.working=M.matched=M.prev_pos=M.match=t,B.$attr_reader("pos","matched"),e(B,"$initialize",function(o){var a=this;return a.string=o,a.pos=0,a.matched=t,a.working=o,a.match=[]},1),B.$attr_reader("string"),e(B,"$beginning_of_line?",function(){var o=this;return 0===o.pos||"\n"===o.string.charAt(o.pos-1)},0),e(B,"$scan",function(o){var a=this,x=(o=a.$anchor(o)).exec(a.working);return null==x?a.matched=t:"object"==typeof x?(a.prev_pos=a.pos,a.pos+=x[0].length,a.working=a.working.substring(x[0].length),a.matched=x[0],a.match=x,x[0]):"string"==typeof x?(a.pos+=x.length,a.working=a.working.substring(x.length),x):t},1),e(B,"$scan_until",function(o){var a=this;o=a.$anchor(o);for(var I,x=a.pos,L=a.working;;){if(I=o.exec(L),x+=1,L=L.substr(1),null!=I)return a.matched=a.string.substr(a.pos,x-a.pos-1+I[0].length),a.match=I,a.prev_pos=x-1,a.pos=x,a.working=L.substr(I[0].length),a.matched;if(0===L.length)return a.match=[],a.matched=t}},1),e(B,"$[]",function(o){var x;if(b(this.match["$empty?"]()))return t;w(K("Symbol"),x=o)?o=o.$to_s():w(K("String"),x)||(o=A["$coerce_to!"](o,K("Integer"),"to_int"));var L=this.match;return o<0&&(o+=L.length),o<0||o>=L.length||null==L[o]?t:L[o]},1),e(B,"$check",function(o){var a=this,x=(o=a.$anchor(o)).exec(a.working);return a.matched=null==x?t:x[0]},1),e(B,"$check_until",function(o){var a=this,x=a.prev_pos,L=a.pos,I=a.$scan_until(o);return I!==t&&(a.matched=I.substr(-1),a.working=a.string.substr(L)),a.prev_pos=x,a.pos=L,I},1),e(B,"$peek",function(o){return this.working.substring(0,o)},1),e(B,"$eos?",function(){return 0===this.working.length},0),e(B,"$exist?",function(o){var x=o.exec(this.working);return null==x?t:0==x.index?0:x.index+1},1),e(B,"$skip",function(o){var a=this,x=(o=a.$anchor(o)).exec(a.working);if(null==x)return a.match=[],a.matched=t;var L=x[0],I=L.length;return a.matched=L,a.match=x,a.prev_pos=a.pos,a.pos+=I,a.working=a.working.substring(I),I},1),e(B,"$skip_until",function(o){var x=this.$scan_until(o);return x===t?t:(this.matched=x.substr(-1),x.length)},1),e(B,"$get_byte",function(){var o=this,a=t;return o.pos<o.string.length?(o.prev_pos=o.pos,o.pos+=1,a=o.matched=o.working.substring(0,1),o.working=o.working.substring(1)):o.matched=t,a},0),e(B,"$match?",function(o){var a=this,x=(o=a.$anchor(o)).exec(a.working);return null==x?t:(a.prev_pos=a.pos,x[0].length)},1),e(B,"$pos=",function(o){var a=this;return o<0&&(o+=a.string.$length()),a.pos=o,a.working=a.string.slice(o)},1),e(B,"$matched_size",function(){return this.matched===t?t:this.matched.length},0),e(B,"$post_match",function(){var o=this;return o.matched===t?t:o.string.substr(o.pos)},0),e(B,"$pre_match",function(){var o=this;return o.matched===t?t:o.string.substr(0,o.prev_pos)},0),e(B,"$reset",function(){var o=this;return o.working=o.string,o.matched=t,o.pos=0},0),e(B,"$rest",function(){return this.working},0),e(B,"$rest?",function(){return 0!==this.working.length},0),e(B,"$rest_size",function(){return this.$rest().$size()},0),e(B,"$terminate",function(){var a,o=this;return o.match=t,a=[o.string.$length()],s(o,"pos=",z(a)),a[Y(a.length,1)]},0),e(B,"$unscan",function(){var o=this;return o.pos=o.prev_pos,o.prev_pos=t,o.match=t,o},0),q(B,"bol?","beginning_of_line?"),q(B,"getch","get_byte"),B.$private(),e(B,"$anchor",function(o){var a=o.toString().match(/\/([^\/]+)$/);return a=a?a[1]:void 0,new RegExp("^(?:"+o.source+")",a)},1)},Opal.modules["bcdice/normalize"]=function(r){var s,S,Y,H=[],t=r.nil,y=r.module,e=r.eqeqeq,b=r.def,w=r.eqeq;return s=H,Y=[y(H[0],"BCDice")].concat(s),(S=y(Y[0],"Normalize")).$module_function(),b(S,"$comparison_operator",function(j){var B;return e(/<=|=</,B=j)?"<=":e(/>=|=>/,B)?">=":e(/<>|!=|=!/,B)?"!=":e(/</,B)?"<":e(/>/,B)?">":e(/=/,B)?"==":t},1),b(S,"$target_number",function(j){return w(j,"?")?j:j.$to_i()},1)},Opal.modules["bcdice/command/lexer"]=function(r){var S,U,a,x,L,I,v,M,j,H=r.top,t=[],y=r.nil,e=r.module,b=r.klass,w=r.const_set,A=r.hash2,s=r.truthy,z=r.send,Y=r.def;return H.$require("strscan"),H.$require("bcdice/normalize"),S=t,U=j=[e(t[0],"BCDice")].concat(S),a=M=[e(j[0],"Command")].concat(U),L=[x=b(M[0],null,"Lexer")].concat(a),I=r.$r(L),(v=x.$$prototype).scanner=v.notations=y,w(L[0],"SYMBOLS",A(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),Y(x,"$initialize",function(m,p){var u,l,i;return m=s(i=(l=(u=m)===y||null==u?y:z(u,"split",[" ",2]))===y||null==l?y:z(l,"first",[]))?i:"",this.scanner=I("StringScanner").$new(m),this.notations=z(p,"map",[],function(n){return null==n&&(n=y),s(n["$is_a?"](I("String")))?I("Regexp").$new(n):n},1)},2),Y(x,"$next_token",function(){try{var m=this,p=y,u=y,_=y,i=y;return s(m.scanner["$eos?"]())?[!1,"$"]:(z(m.notations,"each",[],function c(n){var h,$=null==c.$$s?this:c.$$s;if(null==$.scanner&&($.scanner=y),null==n&&(n=y),h=$.scanner.$scan(n),!s(h))return y;r.ret(["NOTATION",h])},{$$arity:1,$$s:m}),s(p=m.scanner.$scan(/\d+/))?["NUMBER",p.$to_i()]:s(u=m.scanner.$scan(/[<>!=]+/))?(u=I("Normalize").$comparison_operator(u),[s(u)?"CMP_OP":"ILLEGAL",u]):(_=m.scanner.$getch().$upcase(),[s(i=I("SYMBOLS")["$[]"](_))?i:_.$to_sym(),_]))}catch(c){if(c===r.returner)return c.$v;throw c}},0),Y(x,"$source",function(){return this.scanner.$string()},0)},Opal.modules["bcdice/command/parsed"]=function(r){var z,F,M,E,o,a,x,B,q,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,w=r.truthy,A=r.eqeqeq;return z=H,F=q=[y(H[0],"BCDice")].concat(z),M=B=[y(q[0],"Command")].concat(F),o=[E=e(B[0],null,"Parsed")].concat(M),a=r.$r(o),(x=E.$$prototype).question_target=x.critical=x.fumble=x.dollar=x.modify_number=x.target_number=x.prefix_number=x.command=x.suffix_number=x.cmp_op=t,E.$attr_accessor("command"),E.$attr_accessor("prefix_number"),E.$attr_accessor("suffix_number"),E.$attr_accessor("critical"),E.$attr_accessor("fumble"),E.$attr_accessor("dollar"),E.$attr_accessor("modify_number"),E.$attr_accessor("cmp_op"),E.$attr_accessor("target_number"),E.$attr_writer("question_target"),b(E,"$initialize",function(){var I=this;return I.prefix_number=t,I.suffix_number=t,I.critical=t,I.fumble=t,I.dollar=t,I.cmp_op=t,I.target_number=t,I.question_target=!1},0),b(E,"$question_target?",function(){return this.question_target},0),b(E,"$to_s",function(I){var _,v=this,d=t,m=t,p=t,u=t,l=t;return null==I&&(I="after_command"),d=w(v.critical)?"@"+v.critical:t,m=w(v.fumble)?"#"+v.fumble:t,p=w(v.dollar)?"$"+v.dollar:t,u=a("Format").$modifier(v.modify_number),l=w(v.question_target)?"?":v.target_number,A("after_command",_=I)?[v.prefix_number,v.command,v.suffix_number,d,m,p,u,v.cmp_op,l].$join():A("after_modify_number",_)?[v.prefix_number,v.command,v.suffix_number,u,d,m,p,v.cmp_op,l].$join():A("after_target_number",_)?[v.prefix_number,v.command,v.suffix_number,u,v.cmp_op,l,d,m,p].$join():t},-1)},Opal.modules["bcdice/command/parser"]=function(r){var a,v,_,$,h,P,g,C,N,W,f,X,ae,i,c,n,te,m,p,L,H=r.top,t=[],y=r.$r(t),e=r.nil,b=r.$$$,w=r.klass,A=r.module,s=r.hash2,z=r.send2,Y=r.find_super,q=r.def,S=r.send,F=r.to_a,j=r.rb_minus,B=r.eqeq,U=r.hash,K=r.const_set,M=r.truthy,E=r.to_ary;return H.$require("racc/parser.rb"),H.$require("bcdice/arithmetic/node"),H.$require("bcdice/command/lexer"),H.$require("bcdice/command/parsed"),w(b(y("BCDice"),"Command"),b(y("Racc"),"Parser"),"Parser"),a=t,v=L=[A(t[0],"BCDice")].concat(a),m=[A(L[0],"Command")].concat(v),p=r.$r(m),_=m,c=[i=w(m[0],b(p("Racc"),"Parser"),"Parser")].concat(_),n=r.$r(c),(te=i.$$prototype).notations=te.lexer=te.modifier=te.suffix_number=te.prefix_number=te.need_suffix_number=te.need_prefix_number=te.critical=te.fumble=te.dollar=te.allowed_cmp_op=te.question_target=e,q(i,"$initialize",function V(R,Q){var k,T,O,re,G=this;if(delete V.$$p,k=r.slice.call(arguments),null==(T=r.extract_kwargs(k)))T=s([],{});else if(!T.$$is_hash)throw r.ArgumentError.$new("expected kwargs");if(O=k,!r.hasOwnProperty.call(T.$$smap,"round_type"))throw r.ArgumentError.$new("missing keyword: round_type");return re=T.$$smap.round_type,z(G,Y(G,"initialize",V,!1,!0),"initialize",[],null),G.notations=O,G.round_type=re,G.prefix_number=!1,G.suffix_number=!1,G.need_prefix_number=!1,G.need_suffix_number=!1,G.modifier=!0,G.critical=!1,G.fumble=!1,G.dollar=!1,G.allowed_cmp_op=[e,">=",">","<=","<","==","!="],G.question_target=!1},-2),q(i,"$disable_modifier",function(){return this.modifier=!1,this},0),q(i,"$enable_prefix_number",function(){return this.prefix_number=!0,this},0),q(i,"$enable_suffix_number",function(){return this.suffix_number=!0,this},0),q(i,"$has_prefix_number",function(){var R=this;return R.prefix_number=!0,R.need_prefix_number=!0,R},0),q(i,"$has_suffix_number",function(){var R=this;return R.suffix_number=!0,R.need_suffix_number=!0,R},0),q(i,"$enable_critical",function(){return this.critical=!0,this},0),q(i,"$enable_fumble",function(){return this.fumble=!0,this},0),q(i,"$enable_dollar",function(){return this.dollar=!0,this},0),q(i,"$restrict_cmp_op_to",function(R){var Q,T=this;return Q=r.slice.call(arguments),T.allowed_cmp_op=Q,T},-1),q(i,"$enable_question_target",function(){return this.question_target=!0,this},0),q(i,"$parse",function(R){var Q=this;try{return Q.lexer=n("Lexer").$new(R,Q.notations),Q.$do_parse()}catch(k){if(!r.rescue(k,[n("ParseError"),n("ZeroDivisionError")]))throw k;try{return e}finally{r.pop_exception()}}},1),i.$private(),q(i,"$parsed",function(R,Q,k,T){return S(n("Parsed").$new(),"tap",[],function re(Z){var G,se,$e,_e,le,ue,ie=null==re.$$s?this:re.$$s,J=e;return null==ie.round_type&&(ie.round_type=e),null==Z&&(Z=e),J=[R["$[]"]("command")],S(Z,"command=",F(J)),j(J.length,1),J=[(G=R["$[]"]("prefix"),G===e||null==G?e:S(G,"eval",[ie.round_type]))],S(Z,"prefix_number=",F(J)),j(J.length,1),J=[(se=R["$[]"]("suffix"),se===e||null==se?e:S(se,"eval",[ie.round_type]))],S(Z,"suffix_number=",F(J)),j(J.length,1),J=[($e=Q["$[]"]("critical"),$e===e||null==$e?e:S($e,"eval",[ie.round_type]))],S(Z,"critical=",F(J)),j(J.length,1),J=[(_e=Q["$[]"]("fumble"),_e===e||null==_e?e:S(_e,"eval",[ie.round_type]))],S(Z,"fumble=",F(J)),j(J.length,1),J=[(le=Q["$[]"]("dollar"),le===e||null==le?e:S(le,"eval",[ie.round_type]))],S(Z,"dollar=",F(J)),j(J.length,1),J=[k.$eval(ie.round_type)],S(Z,"modify_number=",F(J)),j(J.length,1),J=[T["$[]"]("cmp_op")],S(Z,"cmp_op=",F(J)),j(J.length,1),B(T["$[]"]("target"),"?")?(S(Z,"question_target=",F(J=[!0])),j(J.length,1),S(Z,"target_number=",F(J=[0])),J[j(J.length,1)]):(S(Z,"question_target=",F(J=[!1])),j(J.length,1),J=[(ue=T["$[]"]("target"),ue===e||null==ue?e:S(ue,"eval",[ie.round_type]))],S(Z,"target_number=",F(J)),J[j(J.length,1)])},{$$arity:1,$$s:this})},4),q(i,"$next_token",function(){return this.lexer.$next_token()},0),$=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,33,34,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,e,e,17,18,6,e,5,e,e,17,18,e,e,5,23,24,25,26,56,54,55,57],h=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,e,17,15,15,18,18,23,e,18,30,30,23,23,24,e,23,31,31,24,24,25,e,24,44,44,25,25,28,e,25,47,47,28,28,29,e,28,48,48,29,29,33,e,29,49,49,33,33,34,e,33,50,50,34,34,36,e,34,e,e,36,36,37,e,36,e,e,37,37,e,e,37,27,27,27,27,52,52,52,52],P=[-2,4,16,-3,-1,11,e,33,13,35,23,30,1,e,28,40,e,37,44,e,e,-2,e,51,58,65,0,106,72,79,47,54,e,86,93,e,100,107,e,e,e,e,e,e,63,e,e,68,75,82,89,e,120,e,e,e,e,e],g=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],C=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,e,e,21,47,48,40,51,52,49,50,44,46,3,e,e,e,13,e,e,e,e,e,e,e,32],N=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,e,e,4,8,8,5,7,7,8,8,9,5,6,e,e,e,6,e,e,e,e,e,e,e,6],W=[e,6,13,3,9,-1,27,-15,-10,-1,-38],f=[e,e,e,e,e,e,19,16,15,e,e],X=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],ae=U(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),K(c[0],"Racc_arg",[$,h,g,P,C,N,f,W,19,X,ae,58,35,!0]),K(c[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),K(c[0],"Racc_debug_parser",!1),q(i,"$_reduce_1",function(R,Q,k){var T;return M(this.modifier)||this.$raise(n("ParseError")),T=E(R),this.$parsed(null==T[0]?e:T[0],null==T[1]?e:T[1],null==T[2]?e:T[2],null==T[3]?e:T[3])},3),q(i,"$_reduce_2",function(R,Q,k){var T;return M(this.modifier)||this.$raise(n("ParseError")),T=E(R),this.$parsed(null==T[0]?e:T[0],null==T[2]?e:T[2],null==T[1]?e:T[1],null==T[3]?e:T[3])},3),q(i,"$_reduce_3",function(R,Q,k){var T,se;return se=null==(T=E(R))[2]?e:T[2],this.$parsed(null==T[0]?e:T[0],null==T[1]?e:T[1],b(b(n("Arithmetic"),"Node"),"Number").$new(0),se)},3),q(i,"$_reduce_4",function(R,Q,k){var T=this;return M(T.prefix_number)&&M(T.suffix_number)||T.$raise(n("ParseError")),s(["command","prefix","suffix"],{command:R["$[]"](1),prefix:R["$[]"](0),suffix:R["$[]"](2)})},3),q(i,"$_reduce_5",function(R,Q,k){var T=this;return M(T.prefix_number)||T.$raise(n("ParseError")),M(T.need_suffix_number)&&T.$raise(n("ParseError")),s(["command","prefix"],{command:R["$[]"](1),prefix:R["$[]"](0)})},3),q(i,"$_reduce_6",function(R,Q,k){var T=this;return M(T.suffix_number)||T.$raise(n("ParseError")),M(T.need_prefix_number)&&T.$raise(n("ParseError")),s(["command","suffix"],{command:R["$[]"](0),suffix:R["$[]"](1)})},3),q(i,"$_reduce_7",function(R,Q,k){var T=this;return(M(T.need_prefix_number)||M(T.need_suffix_number))&&T.$raise(n("ParseError")),s(["command"],{command:R["$[]"](0)})},3),q(i,"$_reduce_8",function(R,Q,k){return s([],{})},3),q(i,"$_reduce_9",function(R,Q,k){var T,se,$e,Z=e;return Z=null==(T=E(R))[0]?e:T[0],se=null==T[2]?e:T[2],M(this.critical)&&M(Z["$[]"]("critical")["$nil?"]())||this.$raise(n("ParseError")),S(Z,"[]=",F($e=["critical",se])),j($e.length,1),Z},3),q(i,"$_reduce_10",function(R,Q,k){var T,se,$e,Z=e;return Z=null==(T=E(R))[0]?e:T[0],se=null==T[2]?e:T[2],M(this.fumble)&&M(Z["$[]"]("fumble")["$nil?"]())||this.$raise(n("ParseError")),S(Z,"[]=",F($e=["fumble",se])),j($e.length,1),Z},3),q(i,"$_reduce_11",function(R,Q,k){var T,se,$e,Z=e;return Z=null==(T=E(R))[0]?e:T[0],se=null==T[2]?e:T[2],M(this.dollar)&&M(Z["$[]"]("dollar")["$nil?"]())||this.$raise(n("ParseError")),S(Z,"[]=",F($e=["dollar",se])),j($e.length,1),Z},3),q(i,"$_reduce_12",function(R,Q,k){return R["$[]"](1)},3),q(i,"$_reduce_13",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"Negative").$new(R["$[]"](1))},3),q(i,"$_reduce_14",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"+",R["$[]"](2))},3),q(i,"$_reduce_15",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"-",R["$[]"](2))},3),q(i,"$_reduce_16",function(R,Q,k){return M(this.allowed_cmp_op["$include?"](e))||this.$raise(n("ParseError")),s([],{})},3),q(i,"$_reduce_17",function(R,Q,k){var T,Z,G;return G=null==(T=E(R))[1]?e:T[1],M(this.allowed_cmp_op["$include?"](Z=null==T[0]?e:T[0]))||this.$raise(n("ParseError")),s(["cmp_op","target"],{cmp_op:Z,target:G})},3),q(i,"$_reduce_18",function(R,Q,k){var O,T=this;return O=R["$[]"](0),M(T.question_target)||T.$raise(n("ParseError")),M(T.allowed_cmp_op["$include?"](O))||T.$raise(n("ParseError")),s(["cmp_op","target"],{cmp_op:O,target:"?"})},3),q(i,"$_reduce_19",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"+",R["$[]"](2))},3),q(i,"$_reduce_20",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"-",R["$[]"](2))},3),q(i,"$_reduce_22",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"*",R["$[]"](2))},3),q(i,"$_reduce_23",function(R,Q,k){return R["$[]"](3).$new(R["$[]"](0),R["$[]"](2))},3),q(i,"$_reduce_25",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithGameSystemDefault")},3),q(i,"$_reduce_26",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithCeil")},3),q(i,"$_reduce_27",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithCeil")},3),q(i,"$_reduce_28",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithRound")},3),q(i,"$_reduce_29",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithFloor")},3),q(i,"$_reduce_30",function(R,Q,k){return R["$[]"](1)},3),q(i,"$_reduce_31",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"Negative").$new(R["$[]"](1))},3),q(i,"$_reduce_33",function(R,Q,k){return R["$[]"](1)},3),q(i,"$_reduce_34",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"Number").$new(R["$[]"](0))},3),q(i,"$_reduce_none",function(R,Q,k){return R["$[]"](0)},3)},Opal.modules["bcdice/deprecated/checker"]=function(r){var z,F,K,M,E,o,B,q,H=[],t=r.nil,y=r.module,e=r.send,b=r.eqeqeq,w=r.truthy,A=r.def;return z=H,F=q=[y(H[0],"BCDice")].concat(z),K=B=[y(q[0],"Deprecated")].concat(F),E=[M=y(B[0],"Checker")].concat(K),o=r.$r(E),M.$private(),A(M,"$check_result_legacy",function(x,L,I,v){var u,d=this,m=t,p=t,l=t,_=t;return m=e(L,"map",[],"sides".$to_proc()),u=(p=e(L,"map",[],"value".$to_proc())).$sum(),l=b([100],_=m)?d.$check_1D100(x,u,I,v):b([20],_)?d.$check_1D20(x,u,I,v):b([6,6],_)?d.$check_2D6(x,u,p,I,v):t,(w(l["$nil?"]())||w(l["$empty?"]()))&&(l=b([10],_=m.$uniq())?d.$check_nD10(x,u,p,I,v):b([6],_)?d.$check_nD6(x,u,p,I,v):t,w(l["$nil?"]())||w(l["$empty?"]()))?t:o("Result").$new(l.$delete_prefix(" \uff1e "))},4),A(M,"$check_1D100",function(x,L,I,v){return t},4),A(M,"$check_1D20",function(x,L,I,v){return t},4),A(M,"$check_nD10",function(x,L,I,v,d){return t},5),A(M,"$check_2D6",function(x,L,I,v,d){return t},5),A(M,"$check_nD6",function(x,L,I,v,d){return t},5)},Opal.modules["bcdice/base"]=function(r){var L,p,c,$,h,u,l,_,i,v,H=r.top,t=[],y=r.$r(t),e=r.nil,b=r.$$$,w=r.module,A=r.klass,s=r.truthy,z=r.def,Y=r.regexp,q=r.rb_plus,S=r.send,F=r.to_a,j=r.rb_minus,B=r.eqeqeq,U=r.eqeq,K=r.range,M=r.rb_divide,E=r.rb_times,o=r.rb_ge,a=e;return H.$require("i18n"),H.$require("i18n/backend/fallbacks"),H.$require("bcdice/randomizer"),H.$require("bcdice/dice_table"),H.$require("bcdice/enum"),H.$require("bcdice/translate"),H.$require("bcdice/result"),H.$require("bcdice/command/parser"),H.$require("bcdice/deprecated/checker"),L=t,p=v=[w(t[0],"BCDice")].concat(L),l=[u=A(v[0],null,"Base")].concat(p),_=r.$r(l),(i=u.$$prototype).sort_add_dice=i.sort_barabara_dice=i.enabled_d9=i.raw_input=i.randomizer=i.enabled_upcase_input=i.debug=e,$=[c=r.get_singleton_class(u)].concat(l),h=r.$r($),c.$attr_reader("prefixes"),z(c,"$register_prefix",function(g){var N,W=this,f=e;return null==W.prefixes&&(W.prefixes=e),N=r.slice.call(arguments),W.prefixes=s(f=W.prefixes)?f:[],W.prefixes.$concat(N.$flatten())},-1),z(c,"$register_prefix_from_super_class",function(){return this.$register_prefix(this.$superclass().$prefixes())},0),z(c,"$prefixes_pattern",function(){var g=this,C=e;return null==g.prefixes_pattern&&(g.prefixes_pattern=e),null==g.prefixes&&(g.prefixes=e),g.prefixes_pattern=s(C=g.prefixes_pattern)?C:e,s(g.prefixes_pattern)?g.prefixes_pattern:(g.prefixes=s(C=g.prefixes)?C:[],g.prefixes.$freeze(),g.prefixes_pattern=(s(g.prefixes["$empty?"]())?/(?!)/:Y(["^(S)?(",g.prefixes.$join("|"),")"],"i")).$freeze())},0),z(c,"$command_pattern",function(){var g=this,C=e,N=e;return null==g.command_pattern&&(g.command_pattern=e),null==g.prefixes&&(g.prefixes=e),g.command_pattern=s(C=g.command_pattern)?C:e,s(g.command_pattern)?g.command_pattern:(g.prefixes=s(C=g.prefixes)?C:[],g.prefixes.$freeze(),N=q(S(b(h("CommonCommand"),"COMMANDS"),"map",[],function(f){return null==f&&(f=e),b(f,"PREFIX_PATTERN").$source()},1),g.prefixes),g.command_pattern=Y(["^S?(",N.$join("|"),")"],"i").$freeze())},0),z(c,"$eval",function(g){return this.$new(g).$eval()},1),u.$include(_("Translate")),u.$include(b(_("Deprecated"),"Checker")),z(u,"$initialize",function(n){var $=this;return $.raw_input=n,$.sort_add_dice=!1,$.sort_barabara_dice=!1,$.d66_sort_type=b(_("D66SortType"),"NO_SORT"),$.enabled_d9=!1,$.round_type=b(_("RoundType"),"FLOOR"),$.sides_implicit_d=6,$.upper_dice_reroll_threshold=e,$.reroll_dice_reroll_threshold=e,$.default_cmp_op=e,$.default_target_number=e,$.enabled_upcase_input=!0,$.locale="ja_jp",$.randomizer=b(_("BCDice"),"Randomizer").$new(),$.debug=!1},1),u.$attr_accessor("randomizer"),u.$attr_reader("d66_sort_type"),u.$attr_reader("round_type"),u.$attr_reader("sides_implicit_d"),u.$attr_reader("upper_dice_reroll_threshold"),u.$attr_reader("reroll_dice_reroll_threshold"),u.$attr_reader("default_cmp_op"),u.$attr_reader("default_target_number"),z(u,"$sort_add_dice?",function(){return this.sort_add_dice},0),z(u,"$sort_barabara_dice?",function(){return this.sort_barabara_dice},0),z(u,"$enabled_d9?",function(){return this.enabled_d9},0),z(u,"$enable_debug",function(){return this.debug=!0},0),z(u,"$eval",function(){var $,h,P,n=this,g=e;return $=b(_("BCDice"),"Preprocessor").$process(n.raw_input,n),h=s(P=n.$dice_command($))?P:n.$eval_common_command(n.raw_input),s(h)?(g=[n.randomizer.$rand_results()],S(h,"rands=",F(g)),j(g.length,1),g=[n.randomizer.$detailed_rand_results()],S(h,"detailed_rands=",F(g)),j(g.length,1),h):e},0),z(u,"$change_text",function(n){return n},1),z(u,"$check_result",function(n,$,h,P){var g=this,C=e,N=e,W=e,f=e,X=e;return C=g.$check_result_legacy(n,$,h,P),s(C)?C:(N=S($,"map",[],"sides".$to_proc()),f=(W=S($,"map",[],"value".$to_proc())).$sum(),C=B([100],X=N)?g.$result_1d100(n,f,h,P):B([20],X)?g.$result_1d20(n,f,h,P):B([6,6],X)?g.$result_2d6(n,f,W,h,P):e,U(C,_("Result").$nothing())?e:s(C)?C:(C=B([10],X=N.$uniq())?g.$result_nd10(n,f,W,h,P):B([6],X)?g.$result_nd6(n,f,W,h,P):e,U(C,_("Result").$nothing())?e:s(C)?C:g.$result_ndx(n,h,P)))},4),z(u,"$grich_text",function(n,$,h){return e},3),u.$private(),z(u,"$eval_common_command",function(n){try{return n=this.$change_text(n),S(b(_("CommonCommand"),"COMMANDS"),"each",[],function h(P){var C,g=null==h.$$s?this:h.$$s;if(null==g.randomizer&&(g.randomizer=e),null==P&&(P=e),C=P.$eval(n,g,g.randomizer),!s(C))return e;r.ret(C)},{$$arity:1,$$s:this}),e}catch(h){if(h===r.returner)return h.$v;throw h}},1),z(u,"$dice_command",function(n){var $=this,h=e,P=e,g=e,C=e,N=e;return s($.enabled_upcase_input)&&(n=n.$upcase()),h=$.$class().$prefixes_pattern().$match(n),s(h)?(P=h["$[]"](1)["$nil?"]()["$!"](),s(P)&&(n=n["$[]"](K(1,-1,!1))),g=$.$eval_game_system_specific_command(n),s(g["$is_a?"](_("Result")))?(C=[s(N=g["$secret?"]())?N:P],S(g,"secret=",F(C)),j(C.length,1),g):s(g["$nil?"]())||s(g["$empty?"]())||U(g,"1")?e:S(_("Result").$new(),"tap",[],function(f){return null==f&&(f=e),C=[g.$to_s()],S(f,"text=",F(C)),j(C.length,1),S(f,"secret=",F(C=[P])),C[j(C.length,1)]},1)):e},1),z(u,"$eval_game_system_specific_command",function(n){return e},1),z(u,"$result_ndx",function(n,$,h){return s(h["$is_a?"](_("String")))?e:s(n.$send($,h))?_("Result").$success(this.$translate("success")):_("Result").$failure(this.$translate("failure"))},3),z(u,"$result_1d100",function(n,$,h,P){return e},4),z(u,"$result_1d20",function(n,$,h,P){return e},4),z(u,"$result_nd10",function(n,$,h,P,g){return e},5),z(u,"$result_2d6",function(n,$,h,P,g){return e},5),z(u,"$result_nd6",function(n,$,h,P,g){return e},5),z(u,"$get_table_by_2d6",function(n){return this.$get_table_by_nD6(n,2)},1),z(u,"$get_table_by_1d6",function(n){return this.$get_table_by_nD6(n,1)},1),z(u,"$get_table_by_nD6",function(n,$){return this.$get_table_by_nDx(n,$,6)},2),z(u,"$get_table_by_nDx",function(n,$,h){var g,C=e;return g=this.randomizer.$roll_sum($,h),C=this.$get_table_value(n["$[]"](j(g,$))),s(C["$nil?"]())?["1",0]:[C,g]},3),z(u,"$get_table_by_1d3",function(n){var P,g,$=this,C=e;return $.$debug("get_table_by_1d3"),P=$.randomizer.$roll_sum(1,6),$.$debug("num",P),g=M(j(P,1),2).$to_i(),$.$debug("index",g),C=n["$[]"](g),s(C["$nil?"]())?["1",0]:[C,P]},1),z(u,"$get_table_by_d66_swap",function(n){var h;return h=this.randomizer.$roll_d66(b(_("D66SortType"),"ASC")),[this.$get_table_by_number(h,n),h]},1),z(u,"$get_table_by_d66",function(n){var h,P,g,N,C=e;return h=this.randomizer.$roll_once(6),P=this.randomizer.$roll_once(6),g=q(E(j(h,1),6),j(P,1)),C=n["$[]"](g),N=""+h+P,s(C["$nil?"]())?["1",N]:[C,N]},1),z(u,"$get_table_by_number",function(n,$,h){try{return null==h&&(h="1"),S($,"each",[],function g(C){var W,N=null==g.$$s?this:g.$$s;if(null==C&&(C=e),W=C["$[]"](0),!s(o(W,n)))return e;r.ret(N.$get_table_value(C["$[]"](1)))},{$$arity:1,$$s:this}),this.$get_table_value(h)}catch(g){if(g===r.returner)return g.$v;throw g}},-3),z(u,"$get_table_value",function(n){return s(n["$is_a?"](_("Proc")))?n.$call():n},1),z(u,"$roll_tables",function(n,$){var P=e;return P=$["$[]"](n),s(P)?P.$roll(this.randomizer).$to_s():e},2),z(u,"$debug",function(n,$){var P,g=this,C=e,N=e;return P=r.slice.call(arguments,1),s(g.debug)?(C=s(n["$is_a?"](_("String")))?n:n.$inspect(),s(P["$empty?"]())?g.$warn(C):(N=S(P,"map",[],function(f){return null==f&&(f=e),s(f["$is_a?"](_("String")))?'"'+f+'"':f.$inspect()},1),g.$warn(C+": "+N.$join(", ")))):e},-2),b(b(y("I18n"),"Backend"),"Simple").$include(b(b(y("I18n"),"Backend"),"Fallbacks")),y("I18n").$load_path()["$<<"](y("Dir")["$[]"](y("File").$join("bcdice","../../i18n/**/*.yml"))),a=["ja_jp"],S(y("I18n"),"default_locale=",F(a)),j(a.length,1),a=[["ja_jp"]],S(y("I18n").$fallbacks(),"defaults=",F(a)),a[j(a.length,1)]},Opal.queue(function(r){var j,M,I,v,d,m,o,a,U,t=[],y=r.nil,e=r.$$$,b=r.module,w=r.klass,A=r.const_set,s=r.regexp,z=r.truthy,Y=r.def,q=r.send,S=r.hash2;return r.top.$require("bcdice/base"),j=t,M=U=[b(t[0],"BCDice")].concat(j),o=[b(U[0],"GameSystem")].concat(M),a=r.$r(o),I=o,d=[v=w(o[0],a("Base"),"UnsungDuet")].concat(I),m=r.$r(d),v.$$prototype.randomizer=y,A(d[0],"ID","UnsungDuet"),A(d[0],"NAME","\u30a2\u30f3\u30b5\u30f3\u30b0\u30fb\u30c7\u30e5\u30a8\u30c3\u30c8"),A(d[0],"SORT_KEY","\u3042\u3093\u3055\u3093\u304f\u3066\u3086\u3048\u3064\u3068"),A(d[0],"HELP_MESSAGE","\u25a0 \u30b7\u30d5\u30bf\u30fc\u7528\u5224\u5b9a (shifter, UDS)\n  1D10\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 shifter, UDS, shifter>=5, shifter+1>=6\n\n\u25a0 \u30d0\u30a4\u30f3\u30c0\u30fc\u7528\u5224\u5b9a (binder, UDB)\n  2D6\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 binder, UDB, binder>=5, binder+1>=6\n\n\u25a0 \u5909\u7570\u8868\n  \u30fb\u5916\u50b7 (HIN, HInjury)\n  \u30fb\u4f53\u8abf\u306e\u5909\u5316 (HPH, HPhysical)\n  \u30fb\u6050\u6016 (HFE, HFear)\n  \u30fb\u5e7b\u60f3\u5316 (HFA, HFantasy)\n  \u30fb\u7cbe\u795e (HMI, HMind)\n  \u30fb\u305d\u306e\u307b\u304b (HOT, HOther)\n"),A(d[0],"ALIAS_1D10",["shifter","UDS"].$freeze()),A(d[0],"ALIAS_2D6",["binder","UDB"].$freeze()),A(d[0],"SHIFTER_ALIAS_REG",s(["^",m("ALIAS_1D10").$join("|")],"i").$freeze()),A(d[0],"BINDER_ALIAS_REG",s(["^",m("ALIAS_2D6").$join("|")],"i").$freeze()),v.$register_prefix(m("ALIAS_1D10"),m("ALIAS_2D6")),Y(v,"$eval_game_system_specific_command",function(l){var c,_=this,i=y;return l=z(i=m("ALIAS")["$[]"](l))?i:l,z(i=z(c=_.$roll_replaced_command_if_match(l,m("SHIFTER_ALIAS_REG"),"1D10"))?c:_.$roll_replaced_command_if_match(l,m("BINDER_ALIAS_REG"),"2D6"))?i:_.$roll_tables(l,m("TABLES"))},1),Y(v,"$roll_replaced_command_if_match",function(l,_,i){return z(l["$match?"](_))?e(m("CommonCommand"),"AddDice").$eval(l.$sub(_,i),this,this.randomizer):y},3),A(d[0],"ALIAS",q(S(["HInjury","HPhysical","HFear","HFantasy","HMind","HOther"],{HInjury:"HIN",HPhysical:"HPH",HFear:"HFE",HFantasy:"HFA",HMind:"HMI",HOther:"HOT"}),"transform_keys",[],"upcase".$to_proc())),A(d[0],"TABLES",S(["HIN","HPH","HFE","HFA","HMI","HOT"],{HIN:e(m("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u5916\u50b7","1D6",["\u9854\u306e\u50b7 \u2192 \u9854\u306b\u3067\u304d\u305f\u50b7\u3002\u3058\u308f\u308a\u3068\u8840\u304c\u306b\u3058\u3080","\u5927\u304d\u306a\u602a\u6211 \u2192 \u65e9\u304f\u624b\u5f53\u3066\u3092\u3057\u306a\u3044\u3068\u547d\u306b\u95a2\u308f\u308b","\u75db\u307f\u306e\u306a\u3044\u50b7 \u2192 \u5927\u304d\u306a\u50b7\u306a\u306e\u306b\u3001\u306a\u305c\u304b\u75db\u304f\u306a\u3044","\u55aa\u5931 \u2192 \u8eab\u4f53\u306e\u3069\u3053\u304b\u304c\u6d88\u3048\u3066\u3057\u307e\u3063\u305f","\u6587\u5b57\u306e\u3088\u3046\u306a\u50b7\u8de1 \u2192 \u8aad\u3081\u306a\u3044\u6587\u5b57\u306e\u3088\u3046\u306a\u50b7","\u6a21\u69d8\u3092\u63cf\u304f\u30a2\u30b6 \u2192 \u6a21\u69d8\u306e\u3088\u3046\u306a\u3001\u8eab\u4f53\u306b\u3067\u304d\u305f\u30a2\u30b6"]),HPH:e(m("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u4f53\u8abf\u306e\u5909\u5316","1D6",["\u8996\u754c\u304c\u307c\u3084\u3051\u308b \u2192 \u76ee\u306e\u7126\u70b9\u304c\u5408\u308f\u306a\u3044","\u8033\u9cf4\u308a \u2192 \u305a\u3063\u3068\u7532\u9ad8\u3044\u97f3\u304c\u9cf4\u308a\u7d9a\u3051\u3066\u3044\u308b\u6c17\u304c\u3059\u308b","\u7570\u69d8\u306a\u5bd2\u6c17 \u2192 \u51cd\u3048\u305d\u3046\u306a\u307b\u3069\u306b\u5bd2\u304f\u611f\u3058\u308b","\u767a\u6c57 \u2192 \u6691\u3044\u308f\u3051\u3067\u3082\u306a\u3044\u306e\u306b\u3001\u6c57\u304c\u3060\u3089\u3060\u3089\u3068","\u5e7b\u899a \u2192 \u305d\u308c\u304c\u672c\u7269\u304b\u5e7b\u304b\u3001\u533a\u5225\u304c\u3064\u304b\u306a\u3044","\u8d70\u99ac\u706f \u2192 \u904e\u53bb\u306e\u3053\u3068\u3092\u6b21\u3005\u3068\u601d\u3044\u51fa\u3057\u3066\u3057\u307e\u3046"]),HFE:e(m("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u6050\u6016","1D6",["\u4e0d\u5b89 \u2192 \u6f20\u7136\u3068\u3057\u305f\u4e0d\u5b89\u304c\u5fc3\u3092\u8755\u3080","\u72ed\u3044\u5834\u6240\u304c\u6016\u3044 \u2192 \u72ed\u3044\u5834\u6240\u306b\u5165\u308a\u305f\u304f\u306a\u3044","\u9707\u3048\u304c\u6b62\u307e\u3089\u306a\u3044 \u2192 \u3069\u3046\u3057\u3066\u3082\u843d\u3061\u7740\u304b\u306a\u3044","\u7269\u97f3\u304c\u6016\u3044 \u2192 \u307b\u3093\u306e\u5c0f\u3055\u306a\u7269\u97f3\u306b\u3082\u602f\u3048\u3066\u3057\u307e\u3046","\u6697\u3044\u5834\u6240\u304c\u6016\u3044 \u2192 \u706f\u308a\u306e\u306a\u3044\u5834\u6240\u304c\u3072\u3069\u304f\u6050\u308d\u3057\u3044","\u8ab0\u304b\u304c\u3064\u3044\u3066\u304f\u308b \u2192 \u8ab0\u304b\u304c\u5f8c\u308d\u306b\u3044\u308b\u6c17\u304c\u3059\u308b\u2026\u2026"]),HFA:e(m("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u5e7b\u60f3\u5316","1D6",["\u785d\u5b50\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u30ac\u30e9\u30b9\u306e\u3088\u3046\u306b\u900f\u660e\u306b","\u7fbd\u6bdb\u5316 \u2192 \u8eab\u4f53\u306e\u3069\u3053\u304b\u304b\u3089\u7fbd\u6bdb\u304c\u751f\u3048\u3066\u304f\u308b","\u690d\u7269\u5316 \u2192 \u30c4\u30bf\u3084\u8449\u304c\u8eab\u4f53\u304b\u3089\u751f\u3048\u3066\u304f\u308b","\u52d5\u7269\u306e\u77b3 \u2192 \u77b3\u306e\u5f62\u304c\u52d5\u7269\u306e\u305d\u308c\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046","\u6709\u89d2\u5316 \u2192 \u984d\u3084\u5074\u982d\u90e8\u304b\u3089\u89d2\u304c\u751f\u3048\u3066\u304f\u308b","\u9676\u5668\u5316 \u2192 \u76ae\u819a\u304c\u9676\u5668\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u5909\u308f\u3063\u3066\u3044\u304f"]),HMI:e(m("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u7cbe\u795e","1D6",["\u8a18\u61b6\u306e\u6df7\u4e71 \u2192 \u3053\u3053\u306f\u3069\u3053\u3001\u3069\u3046\u3057\u3066\u3053\u3093\u306a\u3068\u3053\u308d\u306b?","\u5e7c\u5c11\u671f\u306e\u8a18\u61b6 \u2192 \u53e3\u8abf\u3084\u614b\u5ea6\u304c\u5e7c\u304f\u306a\u3063\u3066\u3057\u307e\u3046","\u7d20\u76f4 \u2192 \u601d\u3063\u305f\u3053\u3068\u3092\u5168\u90e8\u8a00\u3063\u3066\u3057\u307e\u3046","\u86ee\u52c7 \u2192 \u30d1\u30fc\u30c8\u30ca\u30fc\u3092\u5b88\u308b\u305f\u3081\u306b\u7121\u8336\u3070\u304b\u308a\u3059\u308b","\u7591\u5fc3\u6697\u9b3c \u2192 \u4f55\u3082\u304b\u3082\u304c\u60aa\u3044\u65b9\u5411\u306b\u3057\u304b\u8003\u3048\u3089\u308c\u306a\u3044","\u98df\u3079\u3061\u3083\u3044\u305f\u3044 \u2192 \u30d1\u30fc\u30c8\u30ca\u30fc\u3092\u304b\u3058\u308a\u305f\u304f\u306a\u308b"]),HOT:e(m("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u305d\u306e\u307b\u304b","1D6",["\u5f71\u7d75\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u5f71\u306e\u3088\u3046\u306b\u306a\u308b","\u6c34\u69fd\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u6c34\u69fd\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u306a\u308b","\u6d99\u304c\u6b62\u307e\u3089\u306a\u3044 \u2192 \u306a\u305c\u304b\u6d99\u304c\u6d41\u308c\u7d9a\u3051\u308b","\u9264\u722a \u2192 \u624b\u3084\u8db3\u304c\u3001\u7363\u306e\u3088\u3046\u306a\u9264\u722a\u306b\u306a\u308b","\u672a\u6765\u8996 \u2192 \u672a\u6765\u304c\u898b\u3048\u3066\u3057\u307e\u3046\u3002\u672c\u5f53\u304b\u3069\u3046\u304b\u306f\u4e0d\u660e","\u5e30\u308a\u305f\u304f\u306a\u3044 \u2192 \u73fe\u5b9f\u306b\u5e30\u308a\u305f\u304f\u306a\u3044\u3068\u5fae\u304b\u306b\u601d\u3046"])}).$freeze()),v.$register_prefix(m("ALIAS").$keys(),m("TABLES").$keys())})}}]);
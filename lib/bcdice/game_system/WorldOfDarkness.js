(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3726],{3350:(O,ee,P)=>{P(9993),Opal.queue(function(r){var L,F,X,y,b,Z,z,Q,G,x=[],e=r.nil,E=r.module,R=r.klass,T=r.const_set,W=r.send2,H=r.find_super,p=r.def,S=r.eqeqeq,u=r.truthy,I=r.rb_lt,g=r.rb_gt,j=r.to_ary,a=r.rb_plus,C=r.send,B=r.rb_minus;return L=x,F=G=[E(x[0],"BCDice")].concat(L),z=[E(G[0],"GameSystem")].concat(F),Q=r.$r(z),X=z,b=[y=R(z[0],Q("Base"),"WorldOfDarkness")].concat(X),Z=r.$r(b),T(b[0],"ID","WorldOfDarkness"),T(b[0],"NAME","\u30ef\u30fc\u30eb\u30c9\u30fb\u30aa\u30d6\u30fb\u30c0\u30fc\u30af\u30cd\u30b9"),T(b[0],"SORT_KEY","\u308f\u3042\u308b\u3068\u304a\u3075\u305f\u3042\u304f\u306d\u3059"),T(b[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(xSTn+y or xSTSn+y or xSTAn+y)\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)ST(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f)\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)STS(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f) \u203b\u51fa\u76ee10\u3067\u632f\u308a\u8db3\u3057\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)STA(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f) \u203b\u51fa\u76ee10\u306f2\u6210\u529f [20th\u30eb\u30fc\u30eb]\n\n\u3000\u96e3\u6613\u5ea6=\u7701\u7565\u66426\n\u3000\u81ea\u52d5\u6210\u529f=\u7701\u7565\u66420\n"),y.$register_prefix("\\d+ST"),p(y,"$initialize",function v(w){var n=this;return delete v.$$p,W(n,H(n,"initialize",v,!1,!0),"initialize",[w],null),n.successDice=0,n.botchDice=0,n.rerollDice=0},1),p(y,"$eval_game_system_specific_command",function(w){var $,n,d,c,t=e,i=e,l=e,f=e,o=e,_=e,s=e,m=e,h=e,q=e,A=e;if(t=6,i=0,l=!1,f=!1,_=(o=w.$match(/^(\d+)(ST[SA]?)(\d+)?([+-]\d+)?/))["$[]"](1).$to_i(),S("STS",c=o["$[]"](2))?l=!0:S("STA",c)&&(f=!0),u(o["$[]"](3))&&(t=o["$[]"](3).$to_i()),u(o["$[]"](4))&&(i=o["$[]"](4).$to_i()),u(I(t,2))&&(t=6),(s=[]).$push("DicePool="+_+", Difficulty="+t+", AutomaticSuccess="+i),u(g(t,10))&&(t=10),m=i,h=0,n=this.$roll_wod(_,t,!0,u(f)?2:1),q=null==($=j(n))[1]?e:$[1],A=null==$[2]?e:$[2],i=null==$[3]?e:$[3],s.$push((null==$[0]?e:$[0]).$join(",")),m=a(m,q),h=a(h,A),u(l))for(;u(g(i,0));)d=this.$roll_wod(_=i,t,!1),q=null==(n=j(d))[1]?e:n[1],A=null==n[2]?e:n[2],i=null==n[3]?e:n[3],s.$push((null==n[0]?e:n[0]).$join(",")),m=a(m,q),h=a(h,A);return u(g(m,0))?s.$push("\u6210\u529f\u6570"+m):u(g(h,0))?s.$push("\u5927\u5931\u6557"):s.$push("\u5931\u6557"),s.$join(" \uff1e ")},1),p(y,"$roll_wod",function(w,$,n,d){var t=e,i=e,l=e,f=e,o=e;return null==n&&(n=!0),null==d&&(d=1),(t=C(Z("Array"),"new",[w],function _(){var c=null==_.$$s?this:_.$$s;return null==c.randomizer&&(c.randomizer=e),c.randomizer.$roll_once(10)},{$$arity:0,$$s:this}))["$sort!"](),i=0,l=0,f=0,C(t,"each",[],function(c){var s;return null==c&&(c=e),S(10,s=c)?f=a(f,d):S(r.Range.$new($,10,!1),s)?i=a(i,1):S(1,s)&&u(n)?l=a(l,1):e},1),i=a(i,f),u(n)&&(o=[i,l].$min(),i=B(i,o),l=B(l,o)),[t,i,l,f]},-3)})}}]);